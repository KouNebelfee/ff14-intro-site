<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ギャラリー - FF14</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gallery">
    <div class="music-player">
        <audio id="bgm" loop>
            <source src="" type="audio/mpeg">
            お使いのブラウザは音楽に対応していません。
        </audio>
        <button onclick="startBGM()">再生開始</button>
        <button onclick="toggleBGM()">再生/停止</button>
        <input type="range" id="volume" min="0" max="1" step="0.1" value="1" onchange="adjustVolume()">
        <button class="nav-btn" onclick="prevTrack()"><</button>
        <button class="nav-btn" onclick="nextTrack()">></button>
        <p>再生中: <span id="current-track"></span></p>
    </div>
    <nav>
        <a href="index.html">ホーム</a>
        <a href="profile-nebelfee.html">Nebelfee</a>
        <a href="profile-schattenfee.html">Schattenfee</a>
        <a href="story.html">ストーリー</a>
        <a href="gallery.html">ギャラリー</a>
        <a href="raid.html">レイド</a>
    </nav>
    <h1>冒険の記録</h1>
    <div class="slideshow">
        <img src="assets/ss1.jpg" alt="SS1" class="slide" onmouseover="selectSlide(0)">
        <img src="assets/ss2.jpg" alt="SS2" class="slide" onmouseover="selectSlide(1)">
        <img src="assets/ss3.jpg" alt="SS3" class="slide" onmouseover="selectSlide(2)">
        <img src="assets/ss4.jpg" alt="SS4" class="slide" onmouseover="selectSlide(3)">
        <img src="assets/ss5.jpg" alt="SS5" class="slide" onmouseover="selectSlide(4)">
        <img src="assets/ss6.jpg" alt="SS6" class="slide" onmouseover="selectSlide(5)">
        <img src="assets/ss7.jpg" alt="SS7" class="slide" onmouseover="selectSlide(6)">
        <img src="assets/ss8.jpg" alt="SS8" class="slide" onmouseover="selectSlide(7)">
        <img src="assets/ss9.jpg" alt="SS9" class="slide" onmouseover="selectSlide(8)">
        <img src="assets/ss10.jpg" alt="SS10" class="slide" onmouseover="selectSlide(9)">
    </div>
    <div class="gallery">
        <div class="gallery-item">
            <img src="assets/ss1.jpg" alt="いたずら">
            <p>秘密のウィンク！</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss2.jpg" alt="穏やか">
            <p>静かな勇気</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss3.jpg" alt="弾む">
            <p>無重力の喜び！</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss4.jpg" alt="決意">
            <p>闇の戦士</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss5.jpg" alt="信頼">
            <p>静かな絆</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss6.jpg" alt="発見">
            <p>好奇心の輝き！</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss7.jpg" alt="穏和">
            <p>音楽の共鳴</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss8.jpg" alt="自由">
            <p>リズムに載せて！</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss9.jpg" alt="楽しい">
            <p>スイーツの魔法！</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss10.jpg" alt="リラックス">
            <p>穏やかな夢</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss11.jpg" alt="自信">
            <p>未来の戦士</p>
        </div>
        <div class="gallery-item">
            <img src="assets/ss12.jpg" alt="希望">
            <p>星空の約束</p>
        </div>
    </div>
    <script src="script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const tracks = [
                { src: "assets/White Stone Black ～万魔殿パンデモニウム：煉獄編～.mp3", "name": "White Stone Black" },
                { src: "assets/Flow.mp3", "name": "Flow" },
                { src: "assets/忘却の彼方 ～蛮神シヴァ討滅戦～.mp3", "name": "忘却の彼方" }
            ];
            const bgm = document.getElementById("bgm");
            const currentTrack = document.getElementById("current-track");
            let currentIndex = 0;

            function updateTrack() {
                bgm.src = tracks[currentIndex].src;
                currentTrack.textContent = tracks[currentIndex].name;
                bgm.load();
                bgm.play().catch(error => console.log("再生エラー:", error));
            }

            currentIndex = Math.floor(Math.random() * tracks.length);
            updateTrack();

            window.prevTrack = function() {
                currentIndex = (currentIndex - 1 + tracks.length) % tracks.length;
                updateTrack();
            };

            window.nextTrack = function() {
                currentIndex = (currentIndex + 1) % tracks.length;
                updateTrack();
            };

            // スライドショー
            let slideIndex = 0;
            const slides = document.querySelectorAll(".slide");
            function showSlides() {
                slides.forEach(slide => slide.style.display = "none");
                slideIndex = (slideIndex + 1) % slides.length;
                slides[slideIndex].style.display = "block";
                slideshowTimeout = setTimeout(showSlides, 3000);
            }
            let slideshowTimeout = setTimeout(showSlides, 3000);
            slides[0].style.display = "block";

            window.selectSlide = function(index) {
                clearTimeout(slideshowTimeout);
                slides.forEach(slide => slide.style.display = "none");
                slideIndex = index;
                slides[slideIndex].style.display = "block";
                slideshowTimeout = setTimeout(showSlides, 3000);
            };
        });
    </script>
</body>
</html>