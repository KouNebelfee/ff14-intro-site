<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nebelfee - FF14</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* å…¨ä½“ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š */
        body {
            font-size: 16px;
            line-height: 1.6;
            color: #fff;
        }
    
        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ©ãƒƒãƒ‘ãƒ¼ */
        .content-wrapper { 
            max-width: 800px; 
            margin: 0 auto; 
            padding-top: 120px; 
            padding-bottom: 80px; 
            padding-left: 15px;
            padding-right: 15px; 
        }
    
        /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã‚³ãƒ³ãƒ†ãƒŠ */
        .profile-img-container { 
            position: relative; 
            text-align: center; 
            margin: 20px auto; 
            max-width: 400px; 
        }
    
        /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ */
        .profile-img { 
            display: block; 
            max-width: 400px; 
            min-height: 400px; 
            width: 100%; 
            object-fit: cover; 
            background: #ddd url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="gray"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>') no-repeat center;
            border: 2px solid #ffd700; 
            border-radius: 10px; 
        }
    
        /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ï¼ˆèƒŒæ™¯è¿½åŠ ï¼‰ */
        .profile-img-caption { 
            color: #fff;
            font-size: 18px;
            margin-top: 15px;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            background: rgba(0, 0, 0, 0.7); /* åŠé€æ˜ã®é»’èƒŒæ™¯ */
            padding: 5px 10px; /* ä½™ç™½è¿½åŠ  */
            border-radius: 5px; /* è§’ä¸¸ */
            display: inline-block; /* ãƒ†ã‚­ã‚¹ãƒˆå¹…ã«åˆã‚ã›ã‚‹ */
        }
    
        /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å†…å®¹ï¼ˆèƒŒæ™¯è¿½åŠ ï¼‰ */
        #profile-content p { 
            margin: 20px 0;
            text-align: center; 
            line-height: 1.8;
            font-size: 16px;
            background: rgba(51, 51, 51, 0.8); /* æš—ã„ç°è‰²ã®åŠé€æ˜èƒŒæ™¯ */
            padding: 10px; /* ãƒ†ã‚­ã‚¹ãƒˆå‘¨å›²ã«ä½™ç™½ */
            border-radius: 5px; /* è§’ä¸¸ */
        }
    
        /* ãƒãƒ«ãƒã‚»ãƒ¬ã‚¯ãƒˆè¡¨ç¤ºï¼ˆèƒŒæ™¯è¿½åŠ ï¼‰ */
        .multi-select-display span { 
            display: block; 
            margin-left: 20px; 
            font-size: 16px;
            color: #fff;
            background: rgba(51, 51, 51, 0.8); /* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å†…å®¹ã¨çµ±ä¸€ */
            padding: 5px 10px; /* ä½™ç™½è¿½åŠ  */
            border-radius: 5px; /* è§’ä¸¸ */
        }
    
        /* ãƒŸãƒ¥ãƒ¼ã‚¸ãƒƒã‚¯ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ï¼šå¤‰æ›´ãªã—ï¼‰ */
        .music-player { 
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            z-index: 1200; 
            background: #333; 
            padding: 10px; 
        }
    
        /* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ï¼šå¤‰æ›´ãªã—ï¼‰ */
        .hamburger { 
            font-size: 24px; 
            background: none; 
            border: none; 
            color: #ffd700; 
            cursor: pointer; 
            padding: 10px; 
        }
    
        /* ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ï¼šå¤‰æ›´ãªã—ï¼‰ */
        nav { 
            position: fixed; 
            left: 0; 
            width: 100%; 
            background-color: #333; 
            z-index: 1000; 
        }
    
        nav ul { 
            list-style: none; 
            padding: 0; 
            margin: 0; 
            display: flex; 
            justify-content: center; 
        }
    
        nav li { 
            margin: 0 15px; 
        }
    
        nav a { 
            color: #ffd700; 
            text-decoration: none; 
            transition: all 0.3s ease; 
        }
    
        nav a:hover { 
            color: #ff6f61; 
            background-color: rgba(255, 255, 255, 0.2); 
            padding: 5px 10px; 
            border-radius: 5px; 
        }
    
        /* ç®¡ç†è€…ãƒ‘ãƒãƒ« */
        .admin-panel { 
            display: none; 
            position: fixed; 
            top: 60px; 
            width: 90%; 
            max-width: 1000px; 
            max-height: 85vh; 
            overflow-y: auto; 
            background: rgba(0, 0, 0, 0.95); 
            padding: 25px;
            border-radius: 8px; 
            z-index: 1300; 
            color: #fff; 
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.6); 
            left: 50%; 
            transform: translateX(-50%); 
            flex-direction: column; 
            gap: 15px; 
        }
    
        .admin-panel h2 { 
            margin: 0 0 25px;
            padding-bottom: 10px; 
            border-bottom: 2px solid #ffd700; 
            font-size: 26px;
            text-align: center;
            background: rgba(0, 0, 0, 0.7); /* è¦‹å‡ºã—ã«èƒŒæ™¯è¿½åŠ  */
            padding: 5px 10px; /* ä½™ç™½èª¿æ•´ */
            border-radius: 5px; /* è§’ä¸¸ */
        }
    
        .admin-section { 
            background: rgba(255, 255, 255, 0.05); 
            padding: 15px; 
            border-radius: 6px; 
            margin-bottom: 15px; 
        }
    
        .admin-section h3 { 
            color: #ffd700; 
            margin: 0 0 15px;
            font-size: 20px;
            text-align: center;
            background: rgba(0, 0, 0, 0.7); /* ã‚µãƒ–è¦‹å‡ºã—ã«èƒŒæ™¯ */
            padding: 5px 10px; /* ä½™ç™½è¿½åŠ  */
            border-radius: 5px; /* è§’ä¸¸ */
        }
    
        .input-group { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            margin-bottom: 15px; 
            width: 100%; 
        }
    
        .input-group label { 
            color: #fff;
            font-size: 16px;
            margin-bottom: 8px;
            text-align: center;
            background: rgba(0, 0, 0, 0.6); /* ãƒ©ãƒ™ãƒ«ã«èƒŒæ™¯è¿½åŠ  */
            padding: 3px 8px; /* ä½™ç™½ */
            border-radius: 4px; /* è§’ä¸¸ */
        }
    
        .input-group input, 
        .input-group select { 
            width: 100%; 
            max-width: 300px; 
            padding: 12px;
            border: 1px solid #ffd700; 
            border-radius: 4px; 
            background: #333;
            color: #fff; 
            font-size: 16px;
            text-align: center; 
        }
    
        .checkbox-group { 
            display: flex; 
            flex-wrap: wrap; 
            justify-content: center; 
            gap: 10px; 
            margin-top: 10px; 
        }
    
        .checkbox-group.horizontal {
            flex-direction: row;
        }
    
        .checkbox-group label { 
            display: flex; 
            align-items: center; 
            gap: 5px; 
            font-size: 16px;
            color: #fff;
            background: rgba(0, 0, 0, 0.6); /* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ãƒ©ãƒ™ãƒ«ã«èƒŒæ™¯ */
            padding: 5px 10px; /* ä½™ç™½è¿½åŠ  */
            border-radius: 4px; /* è§’ä¸¸ */
        }
    
        .role-group { 
            margin: 10px 0; 
            padding: 10px; 
            border: 1px solid rgba(255, 215, 0, 0.3); 
            border-radius: 5px; 
            width: 100%; 
        }
    
        .role-group h4 { 
            color: #ffd700; 
            margin: 0 0 10px; 
            font-size: 18px;
            text-align: center;
            background: rgba(0, 0, 0, 0.7); /* ãƒ­ãƒ¼ãƒ«ã‚°ãƒ«ãƒ¼ãƒ—ã®è¦‹å‡ºã—ã«èƒŒæ™¯ */
            padding: 5px 10px; /* ä½™ç™½ */
            border-radius: 5px; /* è§’ä¸¸ */
        }
    
        .add-item { 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            margin-top: 10px; 
            justify-content: center; 
        }
    
        .add-item input { 
            width: 60%; 
            max-width: 200px; 
            padding: 10px;
            font-size: 16px;
        }
    
        .add-item button { 
            padding: 8px 15px; 
            font-size: 16px;
            background: #ffd700; /* ãƒœã‚¿ãƒ³èƒŒæ™¯ã¯ãã®ã¾ã¾ */
            color: #333;
            border-radius: 4px;
        }
    
        .checkbox-group-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            width: 100%;
        }
    
        .admin-panel-buttons { 
            display: flex; 
            justify-content: center; 
            gap: 15px; 
            margin-top: 20px; 
        }
    
        .admin-panel button { 
            padding: 10px 20px; 
            background: #ffd700; 
            color: #333; 
            border: none; 
            border-radius: 4px; 
            cursor: pointer; 
            font-size: 16px; 
            transition: background 0.3s ease; 
        }
    
        .admin-panel button:hover { 
            background: #ff6f61; 
            color: #fff; 
        }
    
        #admin-image-preview { 
            max-width: 100%; 
            max-height: 150px; 
            margin: 10px 0; 
            object-fit: contain; 
            display: block; 
        }
    
        #admin-toggle { 
            background: rgba(0, 0, 0, 0.7); /* ç®¡ç†è€…ãƒˆã‚°ãƒ«ã«èƒŒæ™¯è¿½åŠ  */
            border: none; 
            color: #ffd700; 
            cursor: pointer; 
            font-size: 16px;
            padding: 5px 10px; /* ä½™ç™½è¿½åŠ  */
            border-radius: 4px; /* è§’ä¸¸ */
        }
    
        /* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å‘ã‘èª¿æ•´ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ã¯å¤‰æ›´ãªã—ï¼‰ */
        @media (min-width: 768px) {
            .hamburger { 
                display: none; 
            }
            nav { 
                top: 60px; 
            }
        }
    
        /* ãƒ¢ãƒã‚¤ãƒ«å‘ã‘èª¿æ•´ï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ã¯å¤‰æ›´ãªã—ï¼‰ */
        @media (max-width: 767px) {
            body {
                font-size: 14px;
            }
            .content-wrapper { 
                padding-top: 120px; /* å…ƒã®å€¤ã‚’ä½¿ç”¨ */
            }
            .profile-img { 
                max-width: 150px; 
                min-height: 150px; 
            }
            .profile-img-caption { 
                font-size: 16px;
                padding: 4px 8px; /* ãƒ¢ãƒã‚¤ãƒ«å‘ã‘èª¿æ•´ */
            }
            #profile-content p { 
                font-size: 14px; 
                margin: 15px 0; 
                padding: 8px; /* ãƒ¢ãƒã‚¤ãƒ«å‘ã‘ã«å°‘ã—å°ã•ã */
            }
            .multi-select-display span { 
                font-size: 14px; 
                padding: 4px 8px; /* ãƒ¢ãƒã‚¤ãƒ«å‘ã‘èª¿æ•´ */
            }
            .music-player { 
                flex-wrap: wrap; 
                gap: 5px; 
            }
            .music-player button, 
            .nav-btn { 
                padding: 3px 8px; 
                font-size: 12px; 
            }
            .music-player input[type="range"] { 
                width: 80px; 
            }
            .music-player p { 
                font-size: 12px; 
                margin: 5px 0; 
            }
            .hamburger { 
                display: block; 
                position: fixed; 
                top: 60px; 
                left: 10px; 
                z-index: 1100; 
            }
            nav { 
                display: none; 
                top: 100px; 
            }
            nav.open { 
                display: block; 
            }
            nav ul { 
                flex-direction: column; 
                align-items: center; 
            }
            nav li { 
                margin: 10px 0; 
            }
            nav a { 
                font-size: 14px; 
                padding: 10px; 
                display: block; 
            }
            .admin-panel { 
                width: 95%; 
                max-height: 80vh; 
                padding: 20px; 
            }
            .admin-section { 
                padding: 10px; 
            }
            .admin-section h3 { 
                font-size: 18px; 
                padding: 4px 8px; /* ãƒ¢ãƒã‚¤ãƒ«å‘ã‘èª¿æ•´ */
            }
            .input-group input, 
            .input-group select { 
                max-width: 100%; 
                font-size: 14px; 
            }
            .checkbox-group.horizontal { 
                flex-direction: column; 
                align-items: center; 
            }
            .checkbox-group label { 
                font-size: 14px; 
                padding: 4px 8px; /* ãƒ¢ãƒã‚¤ãƒ«å‘ã‘èª¿æ•´ */
            }
            .admin-panel-buttons { 
                flex-direction: column; 
                gap: 10px; 
            }
            .add-item { 
                flex-direction: column; 
                gap: 5px; 
            }
            .add-item input { 
                width: 100%; 
                max-width: none; 
            }
        }
    </style>
</head>
<body class="bg-nebelfee">
    <div class="music-player">
        <audio id="bgm">
            <source src="" type="audio/mpeg">
            ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³æ¥½ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚
        </audio>
        <button onclick="startBGM()">å†ç”Ÿé–‹å§‹</button>
        <button onclick="toggleBGM()">å†ç”Ÿ/åœæ­¢</button>
        <input type="range" id="volume" min="0" max="1" step="0.1" value="1" onchange="adjustVolume()">
        <button class="nav-btn" onclick="prevTrack()"><</button>
        <button class="nav-btn" onclick="nextTrack()">></button>
        <p>å†ç”Ÿä¸­: <span id="current-track">æœªé¸æŠ</span></p>
    </div>
    <button class="hamburger">â˜°</button>
    <nav>
        <ul>
            <li><a href="index.html">ãƒ›ãƒ¼ãƒ </a></li>
            <li><a href="profile-nebelfee.html">Nebelfee</a></li>
            <li><a href="profile-schattenfee.html">Schattenfee</a></li>
            <li><a href="story.html">ã‚¹ãƒˆãƒ¼ãƒªãƒ¼</a></li>
            <li><a href="gallery.html">ã‚®ãƒ£ãƒ©ãƒªãƒ¼</a></li>
            <li><a href="raid.html">ãƒ¬ã‚¤ãƒ‰</a></li>
            <li><a href="gear.html">è£…å‚™</a></li>
            <li><a href="diary.html">ãƒ—ãƒ¬ã‚¤æ—¥è¨˜</a></li>
            <li><a href="recruit.html">ä»²é–“å‹Ÿé›†</a></li>
            <li><a href="links.html">ãƒªãƒ³ã‚¯é›†</a></li>
            <li><a href="spots.html">ã‚¹ã‚¯ã‚·ãƒ§ã‚¹ãƒãƒƒãƒˆ</a></li>
        </ul>
    </nav>
    <div class="content-wrapper">
        <h1>Nebelfee</h1>
        <div class="profile-img-container">
            <img id="profile-img" src="" alt="Nebelfee" class="profile-img">
            <div class="profile-img-caption" id="profile-caption">Nebelfee (ç”»åƒæœªè¨­å®š)</div>
        </div>
        <div id="profile-content">
            <p>ç¨®æ—: <span id="race"></span></p>
            <p>æ€§åˆ¥: <span id="gender"></span></p>
            <p>é–¢ä¿‚: <span id="relation"></span></p>
            <p>ãƒ¡ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–: <span id="mainjob"></span></p>
            <p>èª•ç”Ÿæ—¥: <span id="birthday"></span></p>
            <p><span id="description"></span></p>
            <p class="multi-select-display">å¥½ããªã‚¨ãƒªã‚¢:<br><span id="area"></span></p>
            <p class="multi-select-display">å¾—æ„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„:<br><span id="content"></span></p>
            <p>æ„›ç”¨ã®è£…å‚™: <span id="gear"></span></p>
            <p>ã‚µãƒ¼ãƒãƒ¼: <span id="server"></span></p>
            <p>ãƒ•ãƒªãƒ¼ã‚«ãƒ³ãƒ‘ãƒ‹ãƒ¼: <span id="freecompany"></span></p>
            <p class="multi-select-display">ãƒ—ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ«:<br><span id="playstyle"></span></p>
            <p class="multi-select-display">å¥½ããªã‚¸ãƒ§ãƒ–:<br><span id="favoritejobs"></span></p>
            <p>å¥½ããªã‚¨ãƒ¢ãƒ¼ãƒˆ: <span id="favoriteemote"></span></p>
            <p>ãƒ¡ã‚¤ãƒ³ã‚¯ã‚¨ã‚¹ãƒˆã®é€²æ—: <span id="mainquest"></span></p>
            <p>å¥½ããªãƒã‚¦ãƒ³ãƒˆ: <span id="favoritemount"></span></p>
            <p>ãƒ—ãƒ¬ã‚¤æ™‚é–“: <span id="playtime"></span></p>
            <p class="multi-select-display">ã‚¯ãƒ©ãƒ•ã‚¿ãƒ¼:<br><span id="crafter"></span></p>
            <p class="multi-select-display">ã‚®ãƒ£ã‚¶ãƒ©ãƒ¼:<br><span id="gatherer"></span></p>
            <p>ä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆ: <span id="comment"></span></p>
            <p>å¥½ããªID: <span id="favoriteid"></span></p>
            <p class="multi-select-display">å¥½ããªãƒ¬ã‚¤ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„:<br><span id="favoriteraid"></span></p>
            <p class="multi-select-display">å¥½ããªã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹:<br><span id="favoritealliance"></span></p>
            <p>å¥½ããªè¨æ»…æˆ¦ãƒœã‚¹: <span id="favoriteextremetrial"></span></p>
            <p>å¥½ããªFFãƒŠãƒ³ãƒãƒªãƒ³ã‚°: <span id="favoriteffnumbering"></span></p>
        </div>
    </div>
    <div class="admin-panel admin-only">
        <h2>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ›´æ–°</h2>
        
        <!-- åŸºæœ¬æƒ…å ± -->
        <section class="admin-section">
            <h3>åŸºæœ¬æƒ…å ±</h3>
            <div class="input-group">
                <label for="admin-race">ç¨®æ—:</label>
                <select id="admin-race">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="ãƒ’ãƒ¥ãƒ¼ãƒ©ãƒ³">ãƒ’ãƒ¥ãƒ¼ãƒ©ãƒ³</option>
                    <option value="ã‚¨ãƒ¬ã‚¼ãƒ³">ã‚¨ãƒ¬ã‚¼ãƒ³</option>
                    <option value="ãƒŸã‚³ãƒƒãƒ†">ãƒŸã‚³ãƒƒãƒ†</option>
                    <option value="ãƒ©ãƒ©ãƒ•ã‚§ãƒ«">ãƒ©ãƒ©ãƒ•ã‚§ãƒ«</option>
                    <option value="ãƒ«ã‚¬ãƒ‡ã‚£ãƒ³">ãƒ«ã‚¬ãƒ‡ã‚£ãƒ³</option>
                    <option value="ã‚¢ã‚¦ãƒ©">ã‚¢ã‚¦ãƒ©</option>
                    <option value="ãƒ´ã‚£ã‚¨ãƒ©">ãƒ´ã‚£ã‚¨ãƒ©</option>
                    <option value="ãƒ­ã‚¹ã‚¬ãƒ«">ãƒ­ã‚¹ã‚¬ãƒ«</option>
                </select>
            </div>
            <div class="input-group">
                <label for="admin-gender">æ€§åˆ¥:</label>
                <select id="admin-gender">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="ã‚ªã‚¹">ã‚ªã‚¹</option>
                    <option value="ãƒ¡ã‚¹">ãƒ¡ã‚¹</option>
                </select>
            </div>
            <div class="input-group">
                <label for="admin-relation">é–¢ä¿‚:</label>
                <input type="text" id="admin-relation" placeholder="ä¾‹: å†’é™ºä»²é–“">
            </div>
            <div class="input-group">
                <label for="admin-mainjob">ãƒ¡ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–:</label>
                <select id="admin-mainjob">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="ğŸ›¡ï¸ ãƒŠã‚¤ãƒˆ">ğŸ›¡ï¸ ãƒŠã‚¤ãƒˆ</option>
                    <option value="âš”ï¸ æˆ¦å£«">âš”ï¸ æˆ¦å£«</option>
                    <option value="ğŸŒ‘ æš—é»’é¨å£«">ğŸŒ‘ æš—é»’é¨å£«</option>
                    <option value="ğŸ”« ã‚¬ãƒ³ãƒ–ãƒ¬ã‚¤ã‚«ãƒ¼">ğŸ”« ã‚¬ãƒ³ãƒ–ãƒ¬ã‚¤ã‚«ãƒ¼</option>
                    <option value="ğŸŒŸ ç™½é­”é“å£«">ğŸŒŸ ç™½é­”é“å£«</option>
                    <option value="ğŸ“˜ å­¦è€…">ğŸ“˜ å­¦è€…</option>
                    <option value="ğŸŒ  å æ˜Ÿè¡“å¸«">ğŸŒ  å æ˜Ÿè¡“å¸«</option>
                    <option value="ğŸŒ¿ è³¢è€…">ğŸŒ¿ è³¢è€…</option>
                    <option value="ğŸ‘Š ãƒ¢ãƒ³ã‚¯">ğŸ‘Š ãƒ¢ãƒ³ã‚¯</option>
                    <option value="ğŸ‰ ç«œé¨å£«">ğŸ‰ ç«œé¨å£«</option>
                    <option value="ğŸ—¡ï¸ å¿è€…">ğŸ—¡ï¸ å¿è€…</option>
                    <option value="â›©ï¸ ä¾">â›©ï¸ ä¾</option>
                    <option value="ğŸ’€ ãƒªãƒ¼ãƒ‘ãƒ¼">ğŸ’€ ãƒªãƒ¼ãƒ‘ãƒ¼</option>
                    <option value="ğŸ ãƒ´ã‚¡ã‚¤ãƒ‘ãƒ¼">ğŸ ãƒ´ã‚¡ã‚¤ãƒ‘ãƒ¼</option>
                    <option value="ğŸ¶ åŸéŠè©©äºº">ğŸ¶ åŸéŠè©©äºº</option>
                    <option value="âš™ï¸ æ©Ÿå·¥å£«">âš™ï¸ æ©Ÿå·¥å£«</option>
                    <option value="ğŸ’ƒ è¸Šã‚Šå­">ğŸ’ƒ è¸Šã‚Šå­</option>
                    <option value="ğŸ”¥ é»’é­”é“å£«">ğŸ”¥ é»’é­”é“å£«</option>
                    <option value="ğŸ“– å¬å–šå£«">ğŸ“– å¬å–šå£«</option>
                    <option value="âš”ï¸âœ¨ èµ¤é­”é“å£«">âš”ï¸âœ¨ èµ¤é­”é“å£«</option>
                    <option value="ğŸ¨ ãƒ”ã‚¯ãƒˆãƒãƒ³ã‚µãƒ¼">ğŸ¨ ãƒ”ã‚¯ãƒˆãƒãƒ³ã‚µãƒ¼</option>
                </select>
            </div>
        </section>

        <!-- èª•ç”Ÿæ—¥ -->
        <section class="admin-section">
            <h3>èª•ç”Ÿæ—¥ (ã‚¨ã‚ªãƒ«ã‚¼ã‚¢ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼)</h3>
            <div class="input-group">
                <label for="admin-birthday-moon">æœˆ:</label>
                <select id="admin-birthday-moon">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="æ˜Ÿ1æœˆ">æ˜Ÿ1æœˆ</option>
                    <option value="éœŠ1æœˆ">éœŠ1æœˆ</option>
                    <option value="æ˜Ÿ2æœˆ">æ˜Ÿ2æœˆ</option>
                    <option value="éœŠ2æœˆ">éœŠ2æœˆ</option>
                    <option value="æ˜Ÿ3æœˆ">æ˜Ÿ3æœˆ</option>
                    <option value="éœŠ3æœˆ">éœŠ3æœˆ</option>
                    <option value="æ˜Ÿ4æœˆ">æ˜Ÿ4æœˆ</option>
                    <option value="éœŠ4æœˆ">éœŠ4æœˆ</option>
                    <option value="æ˜Ÿ5æœˆ">æ˜Ÿ5æœˆ</option>
                    <option value="éœŠ5æœˆ">éœŠ5æœˆ</option>
                    <option value="æ˜Ÿ6æœˆ">æ˜Ÿ6æœˆ</option>
                    <option value="éœŠ6æœˆ">éœŠ6æœˆ</option>
                </select>
            </div>
            <div class="input-group">
                <label for="admin-birthday-day">æ—¥:</label>
                <select id="admin-birthday-day">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="1æ—¥">1æ—¥</option>
                    <option value="2æ—¥">2æ—¥</option>
                    <option value="3æ—¥">3æ—¥</option>
                    <option value="4æ—¥">4æ—¥</option>
                    <option value="5æ—¥">5æ—¥</option>
                    <option value="6æ—¥">6æ—¥</option>
                    <option value="7æ—¥">7æ—¥</option>
                    <option value="8æ—¥">8æ—¥</option>
                    <option value="9æ—¥">9æ—¥</option>
                    <option value="10æ—¥">10æ—¥</option>
                    <option value="11æ—¥">11æ—¥</option>
                    <option value="12æ—¥">12æ—¥</option>
                    <option value="13æ—¥">13æ—¥</option>
                    <option value="14æ—¥">14æ—¥</option>
                    <option value="15æ—¥">15æ—¥</option>
                    <option value="16æ—¥">16æ—¥</option>
                    <option value="17æ—¥">17æ—¥</option>
                    <option value="18æ—¥">18æ—¥</option>
                    <option value="19æ—¥">19æ—¥</option>
                    <option value="20æ—¥">20æ—¥</option>
                    <option value="21æ—¥">21æ—¥</option>
                    <option value="22æ—¥">22æ—¥</option>
                    <option value="23æ—¥">23æ—¥</option>
                    <option value="24æ—¥">24æ—¥</option>
                    <option value="25æ—¥">25æ—¥</option>
                    <option value="26æ—¥">26æ—¥</option>
                    <option value="27æ—¥">27æ—¥</option>
                    <option value="28æ—¥">28æ—¥</option>
                    <option value="29æ—¥">29æ—¥</option>
                    <option value="30æ—¥">30æ—¥</option>
                    <option value="31æ—¥">31æ—¥</option>
                </select>
            </div>
        </section>

        <!-- ãƒ—ãƒ¬ã‚¤è©³ç´° -->
        <section class="admin-section">
            <h3>ãƒ—ãƒ¬ã‚¤è©³ç´°</h3>
            <div class="input-group">
                <label for="admin-description">èª¬æ˜:</label>
                <input type="text" id="admin-description" placeholder="ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ç´¹ä»‹æ–‡">
            </div>
            <div class="input-group">
                <label>å¥½ããªã‚¨ãƒªã‚¢ (æœ€å¤§3ã¤):</label>
                <div class="checkbox-group" id="area-checkboxes">
                    <div class="role-group" data-patch="æ–°ç”Ÿã‚¨ã‚ªãƒ«ã‚¼ã‚¢">
                        <h4>æ–°ç”Ÿã‚¨ã‚ªãƒ«ã‚¼ã‚¢</h4>
                        <div class="checkbox-group horizontal" id="area-checkboxes-æ–°ç”Ÿã‚¨ã‚ªãƒ«ã‚¼ã‚¢">
                            <label><input type="checkbox" class="area-checkbox" value="ã‚°ãƒªãƒ€ãƒ‹ã‚¢"> ã‚°ãƒªãƒ€ãƒ‹ã‚¢</label>
                            <label><input type="checkbox" class="area-checkbox" value="é»’è¡£æ£®"> é»’è¡£æ£®</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒªãƒ ã‚µãƒ»ãƒ­ãƒŸãƒ³ã‚µ"> ãƒªãƒ ã‚µãƒ»ãƒ­ãƒŸãƒ³ã‚µ</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ©ãƒã‚·ã‚¢"> ãƒ©ãƒã‚·ã‚¢</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¦ãƒ«ãƒ€ãƒ"> ã‚¦ãƒ«ãƒ€ãƒ</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¶ãƒŠãƒ©ãƒ¼ãƒ³"> ã‚¶ãƒŠãƒ©ãƒ¼ãƒ³</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ¢ãƒ¼ãƒ‰ã‚¥ãƒŠ"> ãƒ¢ãƒ¼ãƒ‰ã‚¥ãƒŠ</label>
                        </div>
                        <div class="add-item">
                            <input type="text" class="admin-area-input" data-patch="æ–°ç”Ÿã‚¨ã‚ªãƒ«ã‚¼ã‚¢" placeholder="ã‚¨ãƒªã‚¢ã‚’è¿½åŠ ">
                            <button onclick="addAreaCheckbox('æ–°ç”Ÿã‚¨ã‚ªãƒ«ã‚¼ã‚¢')">è¿½åŠ </button>
                        </div>
                    </div>
                    <div class="role-group" data-patch="è’¼å¤©ã®ã‚¤ã‚·ãƒ¥ã‚¬ãƒ«ãƒ‰">
                        <h4>è’¼å¤©ã®ã‚¤ã‚·ãƒ¥ã‚¬ãƒ«ãƒ‰</h4>
                        <div class="checkbox-group horizontal" id="area-checkboxes-è’¼å¤©ã®ã‚¤ã‚·ãƒ¥ã‚¬ãƒ«ãƒ‰">
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¤ã‚·ãƒ¥ã‚¬ãƒ«ãƒ‰"> ã‚¤ã‚·ãƒ¥ã‚¬ãƒ«ãƒ‰</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¯ãƒ«ã‚¶ã‚¹"> ã‚¯ãƒ«ã‚¶ã‚¹</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ‰ãƒ©ãƒ´ã‚¡ãƒ‹ã‚¢"> ãƒ‰ãƒ©ãƒ´ã‚¡ãƒ‹ã‚¢</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¢ãƒãƒ©ã‚·ã‚¢"> ã‚¢ãƒãƒ©ã‚·ã‚¢</label>
                        </div>
                        <div class="add-item">
                            <input type="text" class="admin-area-input" data-patch="è’¼å¤©ã®ã‚¤ã‚·ãƒ¥ã‚¬ãƒ«ãƒ‰" placeholder="ã‚¨ãƒªã‚¢ã‚’è¿½åŠ ">
                            <button onclick="addAreaCheckbox('è’¼å¤©ã®ã‚¤ã‚·ãƒ¥ã‚¬ãƒ«ãƒ‰')">è¿½åŠ </button>
                        </div>
                    </div>
                    <div class="role-group" data-patch="ç´…è“®ã®ãƒªãƒ™ãƒ¬ãƒ¼ã‚¿ãƒ¼">
                        <h4>ç´…è“®ã®ãƒªãƒ™ãƒ¬ãƒ¼ã‚¿ãƒ¼</h4>
                        <div class="checkbox-group horizontal" id="area-checkboxes-ç´…è“®ã®ãƒªãƒ™ãƒ¬ãƒ¼ã‚¿ãƒ¼">
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¯ã‚¬ãƒ"> ã‚¯ã‚¬ãƒ</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ‰ãƒ"> ãƒ‰ãƒ</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚®ãƒ©ãƒãƒ‹ã‚¢"> ã‚®ãƒ©ãƒãƒ‹ã‚¢</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚ªã‚µãƒ¼ãƒ‰"> ã‚ªã‚µãƒ¼ãƒ‰</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¢ã‚¸ãƒ ã‚¹ãƒ†ãƒƒãƒ—"> ã‚¢ã‚¸ãƒ ã‚¹ãƒ†ãƒƒãƒ—</label>
                        </div>
                        <div class="add-item">
                            <input type="text" class="admin-area-input" data-patch="ç´…è“®ã®ãƒªãƒ™ãƒ¬ãƒ¼ã‚¿ãƒ¼" placeholder="ã‚¨ãƒªã‚¢ã‚’è¿½åŠ ">
                            <button onclick="addAreaCheckbox('ç´…è“®ã®ãƒªãƒ™ãƒ¬ãƒ¼ã‚¿ãƒ¼')">è¿½åŠ </button>
                        </div>
                    </div>
                    <div class="role-group" data-patch="æ¼†é»’ã®ãƒ´ã‚£ãƒ©ãƒ³ã‚º">
                        <h4>æ¼†é»’ã®ãƒ´ã‚£ãƒ©ãƒ³ã‚º</h4>
                        <div class="checkbox-group horizontal" id="area-checkboxes-æ¼†é»’ã®ãƒ´ã‚£ãƒ©ãƒ³ã‚º">
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¯ãƒªã‚¹ã‚¿ãƒªã‚¦ãƒ "> ã‚¯ãƒªã‚¹ã‚¿ãƒªã‚¦ãƒ </label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ¦ãƒ¼ãƒ«ãƒ¢ã‚¢"> ãƒ¦ãƒ¼ãƒ«ãƒ¢ã‚¢</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ¬ã‚¤ã‚¯ãƒ©ãƒ³ãƒ‰"> ãƒ¬ã‚¤ã‚¯ãƒ©ãƒ³ãƒ‰</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚³ãƒ«ã‚·ã‚¢å³¶"> ã‚³ãƒ«ã‚·ã‚¢å³¶</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¢ãƒ ãƒ»ã‚¢ãƒ¬ãƒ¼ãƒ³"> ã‚¢ãƒ ãƒ»ã‚¢ãƒ¬ãƒ¼ãƒ³</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¤ãƒ«ãƒ»ãƒ¡ã‚°"> ã‚¤ãƒ«ãƒ»ãƒ¡ã‚°</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ©ã‚±ãƒ†ã‚£ã‚«å¤§æ£®æ—"> ãƒ©ã‚±ãƒ†ã‚£ã‚«å¤§æ£®æ—</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ†ãƒ³ãƒšã‚¹ãƒˆ"> ãƒ†ãƒ³ãƒšã‚¹ãƒˆ</label>
                        </div>
                        <div class="add-item">
                            <input type="text" class="admin-area-input" data-patch="æ¼†é»’ã®ãƒ´ã‚£ãƒ©ãƒ³ã‚º" placeholder="ã‚¨ãƒªã‚¢ã‚’è¿½åŠ ">
                            <button onclick="addAreaCheckbox('æ¼†é»’ã®ãƒ´ã‚£ãƒ©ãƒ³ã‚º')">è¿½åŠ </button>
                        </div>
                    </div>
                    <div class="role-group" data-patch="æšæœˆã®ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬">
                        <h4>æšæœˆã®ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬</h4>
                        <div class="checkbox-group horizontal" id="area-checkboxes-æšæœˆã®ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬">
                            <label><input type="checkbox" class="area-checkbox" value="ã‚ªãƒ¼ãƒ«ãƒ‰ãƒ»ã‚·ãƒ£ãƒ¼ãƒ¬ã‚¢ãƒ³"> ã‚ªãƒ¼ãƒ«ãƒ‰ãƒ»ã‚·ãƒ£ãƒ¼ãƒ¬ã‚¢ãƒ³</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ©ã‚¶ãƒãƒ³"> ãƒ©ã‚¶ãƒãƒ³</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚µãƒ™ãƒã‚¢å³¶"> ã‚µãƒ™ãƒã‚¢å³¶</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¬ãƒ¬ãƒãƒ«ãƒ‰"> ã‚¬ãƒ¬ãƒãƒ«ãƒ‰</label>
                            <label><input type="checkbox" class="area-checkbox" value="å˜†ãã®æµ·"> å˜†ãã®æµ·</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¨ãƒ«ãƒ”ã‚¹"> ã‚¨ãƒ«ãƒ”ã‚¹</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¦ãƒ«ãƒ†ã‚£ãƒãƒ»ãƒˆã‚¥ãƒ¼ãƒ¬"> ã‚¦ãƒ«ãƒ†ã‚£ãƒãƒ»ãƒˆã‚¥ãƒ¼ãƒ¬</label>
                        </div>
                        <div class="add-item">
                            <input type="text" class="admin-area-input" data-patch="æšæœˆã®ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬" placeholder="ã‚¨ãƒªã‚¢ã‚’è¿½åŠ ">
                            <button onclick="addAreaCheckbox('æšæœˆã®ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬')">è¿½åŠ </button>
                        </div>
                    </div>
                    <div class="role-group" data-patch="é»„é‡‘ã®ãƒ¬ã‚¬ã‚·ãƒ¼">
                        <h4>é»„é‡‘ã®ãƒ¬ã‚¬ã‚·ãƒ¼</h4>
                        <div class="checkbox-group horizontal" id="area-checkboxes-é»„é‡‘ã®ãƒ¬ã‚¬ã‚·ãƒ¼">
                            <label><input type="checkbox" class="area-checkbox" value="ãƒˆãƒ©ã‚¤ãƒ¨ãƒ©"> ãƒˆãƒ©ã‚¤ãƒ¨ãƒ©</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚¦ãƒ©ã‚¯ã‚¦ã‚«"> ã‚¦ãƒ©ã‚¯ã‚¦ã‚«</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ¤ã‚¯ãƒ†ãƒ«æ¨¹æµ·"> ãƒ¤ã‚¯ãƒ†ãƒ«æ¨¹æµ·</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚³ã‚¶ãƒãƒ«ã‚«"> ã‚³ã‚¶ãƒãƒ«ã‚«</label>
                            <label><input type="checkbox" class="area-checkbox" value="ã‚·ãƒ£ãƒ¼ãƒ­ãƒ¼ãƒ‹"> ã‚·ãƒ£ãƒ¼ãƒ­ãƒ¼ãƒ‹</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒ˜ãƒªãƒ†ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¦ãƒ³ãƒ‰"> ãƒ˜ãƒªãƒ†ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¦ãƒ³ãƒ‰</label>
                            <label><input type="checkbox" class="area-checkbox" value="ãƒªãƒ“ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªãƒ¼"> ãƒªãƒ“ãƒ³ã‚°ãƒ¡ãƒ¢ãƒªãƒ¼</label>
                        </div>
                        <div class="add-item">
                            <input type="text" class="admin-area-input" data-patch="é»„é‡‘ã®ãƒ¬ã‚¬ã‚·ãƒ¼" placeholder="ã‚¨ãƒªã‚¢ã‚’è¿½åŠ ">
                            <button onclick="addAreaCheckbox('é»„é‡‘ã®ãƒ¬ã‚¬ã‚·ãƒ¼')">è¿½åŠ </button>
                        </div>
                    </div>
                    <div class="add-item">
                        <input type="text" id="admin-new-patch-input" placeholder="æ–°ã—ã„ãƒ‘ãƒƒãƒåã‚’å…¥åŠ›">
                        <button onclick="addNewPatch()">ãƒ‘ãƒƒãƒè¿½åŠ </button>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label>å¾—æ„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„:</label>
                <div class="checkbox-group horizontal">
                    <label><input type="checkbox" id="admin-content-raid" value="ãƒ¬ã‚¤ãƒ‰"> ãƒ¬ã‚¤ãƒ‰</label>
                    <label><input type="checkbox" id="admin-content-extreme" value="æ¥µã‚³ãƒ³ãƒ†ãƒ³ãƒ„"> æ¥µã‚³ãƒ³ãƒ†ãƒ³ãƒ„</label>
                    <label><input type="checkbox" id="admin-content-dungeon" value="ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³"> ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³</label>
                    <label><input type="checkbox" id="admin-content-pvp" value="PvP"> PvP</label>
                    <label><input type="checkbox" id="admin-content-crafting" value="ã‚¯ãƒ©ãƒ•ã‚¿ãƒ¼"> ã‚¯ãƒ©ãƒ•ã‚¿ãƒ¼</label>
                    <label><input type="checkbox" id="admin-content-gathering" value="ã‚®ãƒ£ã‚¶ãƒ©ãƒ¼"> ã‚®ãƒ£ã‚¶ãƒ©ãƒ¼</label>
                    <label><input type="checkbox" id="admin-content-treasure" value="ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒˆ"> ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒˆ</label>
                    <label><input type="checkbox" id="admin-content-rp" value="RP"> RP</label>
                </div>
            </div>
        </section>

        <!-- è£…å‚™ã¨ã‚µãƒ¼ãƒãƒ¼ -->
        <section class="admin-section">
            <h3>è£…å‚™ã¨ã‚µãƒ¼ãƒãƒ¼</h3>
            <div class="input-group">
                <label for="admin-gear">æ„›ç”¨ã®è£…å‚™:</label>
                <select id="admin-gear">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                </select>
                <div class="add-item">
                    <input type="text" id="admin-gear-input" placeholder="è£…å‚™ã‚’è¿½åŠ ">
                    <button onclick="addGear()">è¿½åŠ </button>
                </div>
            </div>
            <div class="input-group">
                <label for="admin-server">ã‚µãƒ¼ãƒãƒ¼:</label>
                <select id="admin-server">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="Aegis (Elemental)">Aegis (Elemental)</option>
                    <option value="Atomos (Elemental)">Atomos (Elemental)</option>
                    <option value="Carbuncle (Elemental)">Carbuncle (Elemental)</option>
                    <option value="Garuda (Elemental)">Garuda (Elemental)</option>
                    <option value="Gungnir (Elemental)">Gungnir (Elemental)</option>
                    <option value="Kujata (Elemental)">Kujata (Elemental)</option>
                    <option value="Tonberry (Elemental)">Tonberry (Elemental)</option>
                    <option value="Typhon (Elemental)">Typhon (Elemental)</option>
                    <option value="Alexander (Gaia)">Alexander (Gaia)</option>
                    <option value="Bahamut (Gaia)">Bahamut (Gaia)</option>
                    <option value="Durandal (Gaia)">Durandal (Gaia)</option>
                    <option value="Fenrir (Gaia)">Fenrir (Gaia)</option>
                    <option value="Ifrit (Gaia)">Ifrit (Gaia)</option>
                    <option value="Ridill (Gaia)">Ridill (Gaia)</option>
                    <option value="Tiamat (Gaia)">Tiamat (Gaia)</option>
                    <option value="Ultima (Gaia)">Ultima (Gaia)</option>
                    <option value="Anima (Mana)">Anima (Mana)</option>
                    <option value="Asura (Mana)">Asura (Mana)</option>
                    <option value="Chocobo (Mana)">Chocobo (Mana)</option>
                    <option value="Hades (Mana)">Hades (Mana)</option>
                    <option value="Ixion (Mana)">Ixion (Mana)</option>
                    <option value="Masamune (Mana)">Masamune (Mana)</option>
                    <option value="Pandaemonium (Mana)">Pandaemonium (Mana)</option>
                    <option value="Titan (Mana)">Titan (Mana)</option>
                    <option value="Belias (Meteor)">Belias (Meteor)</option>
                    <option value="Mandragora (Meteor)">Mandragora (Meteor)</option>
                    <option value="Ramuh (Meteor)">Ramuh (Meteor)</option>
                    <option value="Shinryu (Meteor)">Shinryu (Meteor)</option>
                    <option value="Unicorn (Meteor)">Unicorn (Meteor)</option>
                    <option value="Valefor (Meteor)">Valefor (Meteor)</option>
                    <option value="Yojimbo (Meteor)">Yojimbo (Meteor)</option>
                    <option value="Zeromus (Meteor)">Zeromus (Meteor)</option>
                </select>
            </div>
            <div class="input-group">
                <label for="admin-freecompany">ãƒ•ãƒªãƒ¼ã‚«ãƒ³ãƒ‘ãƒ‹ãƒ¼:</label>
                <input type="text" id="admin-freecompany" placeholder="ä¾‹: Light Party">
            </div>
        </section>

        <!-- ãƒ—ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ« -->
        <section class="admin-section">
            <h3>ãƒ—ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ«</h3>
            <div class="input-group">
                <label>ãƒ—ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ«:</label>
                <div class="checkbox-group horizontal">
                    <label><input type="checkbox" id="admin-playstyle-casual" value="ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«"> ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«</label>
                    <label><input type="checkbox" id="admin-playstyle-hardcore" value="ãƒãƒ¼ãƒ‰ã‚³ã‚¢"> ãƒãƒ¼ãƒ‰ã‚³ã‚¢</label>
                    <label><input type="checkbox" id="admin-playstyle-rp" value="RP"> RP</label>
                    <label><input type="checkbox" id="admin-playstyle-pvp" value="PvP"> PvP</label>
                    <label><input type="checkbox" id="admin-playstyle-crafting" value="ã‚¯ãƒ©ãƒ•ãƒ†ã‚£ãƒ³ã‚°"> ã‚¯ãƒ©ãƒ•ãƒ†ã‚£ãƒ³ã‚°</label>
                </div>
            </div>
        </section>

        <!-- å¥½ããªã‚¸ãƒ§ãƒ– -->
        <section class="admin-section">
            <h3>å¥½ããªã‚¸ãƒ§ãƒ–</h3>
            <div class="input-group">
                <label>ã‚¿ãƒ³ã‚¯:</label>
                <div class="checkbox-group horizontal" id="job-checkboxes-tank">
                    <label><input type="checkbox" class="job-checkbox" data-role="tank" value="ğŸ›¡ï¸ ãƒŠã‚¤ãƒˆ"> ğŸ›¡ï¸ ãƒŠã‚¤ãƒˆ</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="tank" value="âš”ï¸ æˆ¦å£«"> âš”ï¸ æˆ¦å£«</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="tank" value="ğŸŒ‘ æš—é»’é¨å£«"> ğŸŒ‘ æš—é»’é¨å£«</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="tank" value="ğŸ”« ã‚¬ãƒ³ãƒ–ãƒ¬ã‚¤ã‚«ãƒ¼"> ğŸ”« ã‚¬ãƒ³ãƒ–ãƒ¬ã‚¤ã‚«ãƒ¼</label>
                </div>
                <div class="add-item">
                    <input type="text" id="admin-job-input-tank" placeholder="ã‚¿ãƒ³ã‚¯ã‚¸ãƒ§ãƒ–ã‚’è¿½åŠ ">
                    <button onclick="addJobCheckbox('tank')">è¿½åŠ </button>
                </div>
            </div>
            <div class="input-group">
                <label>ãƒ’ãƒ¼ãƒ©ãƒ¼:</label>
                <div class="checkbox-group horizontal" id="job-checkboxes-healer">
                    <label><input type="checkbox" class="job-checkbox" data-role="healer" value="ğŸŒŸ ç™½é­”é“å£«"> ğŸŒŸ ç™½é­”é“å£«</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="healer" value="ğŸ“˜ å­¦è€…"> ğŸ“˜ å­¦è€…</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="healer" value="ğŸŒ  å æ˜Ÿè¡“å¸«"> ğŸŒ  å æ˜Ÿè¡“å¸«</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="healer" value="ğŸŒ¿ è³¢è€…"> ğŸŒ¿ è³¢è€…</label>
                </div>
                <div class="add-item">
                    <input type="text" id="admin-job-input-healer" placeholder="ãƒ’ãƒ¼ãƒ©ãƒ¼ã‚¸ãƒ§ãƒ–ã‚’è¿½åŠ ">
                    <button onclick="addJobCheckbox('healer')">è¿½åŠ </button>
                </div>
            </div>
            <div class="input-group">
                <label>ãƒ¡ãƒ¬ãƒ¼DPS:</label>
                <div class="checkbox-group horizontal" id="job-checkboxes-melee">
                    <label><input type="checkbox" class="job-checkbox" data-role="melee" value="ğŸ‘Š ãƒ¢ãƒ³ã‚¯"> ğŸ‘Š ãƒ¢ãƒ³ã‚¯</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="melee" value="ğŸ‰ ç«œé¨å£«"> ğŸ‰ ç«œé¨å£«</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="melee" value="ğŸ—¡ï¸ å¿è€…"> ğŸ—¡ï¸ å¿è€…</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="melee" value="â›©ï¸ ä¾"> â›©ï¸ ä¾</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="melee" value="ğŸ’€ ãƒªãƒ¼ãƒ‘ãƒ¼"> ğŸ’€ ãƒªãƒ¼ãƒ‘ãƒ¼</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="melee" value="ğŸ ãƒ´ã‚¡ã‚¤ãƒ‘ãƒ¼"> ğŸ ãƒ´ã‚¡ã‚¤ãƒ‘ãƒ¼</label>
                </div>
                <div class="add-item">
                    <input type="text" id="admin-job-input-melee" placeholder="ãƒ¡ãƒ¬ãƒ¼DPSã‚¸ãƒ§ãƒ–ã‚’è¿½åŠ ">
                    <button onclick="addJobCheckbox('melee')">è¿½åŠ </button>
                </div>
            </div>
            <div class="input-group">
                <label>ãƒ¬ãƒ³ã‚¸DPS:</label>
                <div class="checkbox-group horizontal" id="job-checkboxes-ranged">
                    <label><input type="checkbox" class="job-checkbox" data-role="ranged" value="ğŸ¶ åŸéŠè©©äºº"> ğŸ¶ åŸéŠè©©äºº</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="ranged" value="âš™ï¸ æ©Ÿå·¥å£«"> âš™ï¸ æ©Ÿå·¥å£«</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="ranged" value="ğŸ’ƒ è¸Šã‚Šå­"> ğŸ’ƒ è¸Šã‚Šå­</label>
                </div>
                <div class="add-item">
                    <input type="text" id="admin-job-input-ranged" placeholder="ãƒ¬ãƒ³ã‚¸DPSã‚¸ãƒ§ãƒ–ã‚’è¿½åŠ ">
                    <button onclick="addJobCheckbox('ranged')">è¿½åŠ </button>
                </div>
            </div>
            <div class="input-group">
                <label>ã‚­ãƒ£ã‚¹ã‚¿ãƒ¼DPS:</label>
                <div class="checkbox-group horizontal" id="job-checkboxes-caster">
                    <label><input type="checkbox" class="job-checkbox" data-role="caster" value="ğŸ”¥ é»’é­”é“å£«"> ğŸ”¥ é»’é­”é“å£«</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="caster" value="ğŸ“– å¬å–šå£«"> ğŸ“– å¬å–šå£«</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="caster" value="âš”ï¸âœ¨ èµ¤é­”é“å£«"> âš”ï¸âœ¨ èµ¤é­”é“å£«</label>
                    <label><input type="checkbox" class="job-checkbox" data-role="caster" value="ğŸ¨ ãƒ”ã‚¯ãƒˆãƒãƒ³ã‚µãƒ¼"> ğŸ¨ ãƒ”ã‚¯ãƒˆãƒãƒ³ã‚µãƒ¼</label>
                </div>
                <div class="add-item">
                    <input type="text" id="admin-job-input-caster" placeholder="ã‚­ãƒ£ã‚¹ã‚¿ãƒ¼DPSã‚¸ãƒ§ãƒ–ã‚’è¿½åŠ ">
                    <button onclick="addJobCheckbox('caster')">è¿½åŠ </button>
                </div>
            </div>
        </section>
        <!-- ãã®ä»–ã®è¨­å®š -->
        <section class="admin-section">
            <h3>ãã®ä»–ã®è¨­å®š</h3>
            <div class="input-group">
                <label for="admin-favoriteemote">å¥½ããªã‚¨ãƒ¢ãƒ¼ãƒˆ:</label>
                <select id="admin-favoriteemote">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                </select>
                <div class="add-item">
                    <input type="text" id="admin-emote-input" placeholder="ã‚¨ãƒ¢ãƒ¼ãƒˆã‚’è¿½åŠ ">
                    <button onclick="addEmote()">è¿½åŠ </button>
                </div>
            </div>
            <div class="input-group">
                <label for="admin-mainquest">ãƒ¡ã‚¤ãƒ³ã‚¯ã‚¨ã‚¹ãƒˆã®é€²æ—:</label>
                <select id="admin-mainquest">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="æ–°ç”Ÿã‚¨ã‚ªãƒ«ã‚¼ã‚¢">æ–°ç”Ÿã‚¨ã‚ªãƒ«ã‚¼ã‚¢</option>
                    <option value="è’¼å¤©ã®ã‚¤ã‚·ãƒ¥ã‚¬ãƒ«ãƒ‰">è’¼å¤©ã®ã‚¤ã‚·ãƒ¥ã‚¬ãƒ«ãƒ‰</option>
                    <option value="ç´…è“®ã®ãƒªãƒ™ãƒ¬ãƒ¼ã‚¿ãƒ¼">ç´…è“®ã®ãƒªãƒ™ãƒ¬ãƒ¼ã‚¿ãƒ¼</option>
                    <option value="æ¼†é»’ã®ãƒ´ã‚£ãƒ©ãƒ³ã‚º">æ¼†é»’ã®ãƒ´ã‚£ãƒ©ãƒ³ã‚º</option>
                    <option value="æšæœˆã®ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬">æšæœˆã®ãƒ•ã‚£ãƒŠãƒ¼ãƒ¬</option>
                    <option value="é»„é‡‘ã®ãƒ¬ã‚¬ã‚·ãƒ¼">é»„é‡‘ã®ãƒ¬ã‚¬ã‚·ãƒ¼</option>
                </select>
            </div>
            <div class="input-group">
                <label for="admin-favoritemount">å¥½ããªãƒã‚¦ãƒ³ãƒˆ:</label>
                <select id="admin-favoritemount">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                </select>
                <div class="add-item">
                    <input type="text" id="admin-mount-input" placeholder="ãƒã‚¦ãƒ³ãƒˆã‚’è¿½åŠ ">
                    <button onclick="addMount()">è¿½åŠ </button>
                </div>
            </div>
            <div class="input-group">
                <label for="admin-playtime">ãƒ—ãƒ¬ã‚¤æ™‚é–“:</label>
                <input type="text" id="admin-playtime" placeholder="ä¾‹: 500æ™‚é–“">
            </div>
        </section>

        <!-- ã‚®ãƒ£ã‚¶ã‚¯ãƒ© -->
        <section class="admin-section">
            <h3>ã‚®ãƒ£ã‚¶ã‚¯ãƒ©</h3>
            <div class="input-group">
                <label>ã‚¯ãƒ©ãƒ•ã‚¿ãƒ¼:</label>
                <div class="checkbox-group horizontal">
                    <label><input type="checkbox" id="admin-crafter-carpenter" value="ğŸªš æœ¨å·¥å¸«"> ğŸªš æœ¨å·¥å¸«</label>
                    <label><input type="checkbox" id="admin-crafter-blacksmith" value="ğŸ”¨ é›å†¶å¸«"> ğŸ”¨ é›å†¶å¸«</label>
                    <label><input type="checkbox" id="admin-crafter-armorer" value="ğŸ› ï¸ ç”²å†‘å¸«"> ğŸ› ï¸ ç”²å†‘å¸«</label>
                    <label><input type="checkbox" id="admin-crafter-goldsmith" value="ğŸ’ å½«é‡‘å¸«"> ğŸ’ å½«é‡‘å¸«</label>
                    <label><input type="checkbox" id="admin-crafter-leatherworker" value="ğŸ§µ é©ç´°å·¥å¸«"> ğŸ§µ é©ç´°å·¥å¸«</label>
                    <label><input type="checkbox" id="admin-crafter-weaver" value="âœ‚ï¸ è£ç¸«å¸«"> âœ‚ï¸ è£ç¸«å¸«</label>
                    <label><input type="checkbox" id="admin-crafter-alchemist" value="âš—ï¸ éŒ¬é‡‘è¡“å¸«"> âš—ï¸ éŒ¬é‡‘è¡“å¸«</label>
                    <label><input type="checkbox" id="admin-crafter-culinarian" value="ğŸ³ èª¿ç†å¸«"> ğŸ³ èª¿ç†å¸«</label>
                </div>
            </div>
            <div class="input-group">
                <label>ã‚®ãƒ£ã‚¶ãƒ©ãƒ¼:</label>
                <div class="checkbox-group horizontal">
                    <label><input type="checkbox" id="admin-gatherer-miner" value="â›ï¸ æ¡æ˜å¸«"> â›ï¸ æ¡æ˜å¸«</label>
                    <label><input type="checkbox" id="admin-gatherer-botanist" value="ğŸŒ± åœ’èŠ¸å¸«"> ğŸŒ± åœ’èŠ¸å¸«</label>
                    <label><input type="checkbox" id="admin-gatherer-fisher" value="ğŸ£ æ¼å¸«"> ğŸ£ æ¼å¸«</label>
                </div>
            </div>
        </section>

        <!-- ã‚³ãƒ¡ãƒ³ãƒˆã¨ç”»åƒ -->
        <section class="admin-section">
            <h3>ã‚³ãƒ¡ãƒ³ãƒˆã¨ç”»åƒ</h3>
            <div class="input-group">
                <label for="admin-comment">ä¸€è¨€ã‚³ãƒ¡ãƒ³ãƒˆ:</label>
                <input type="text" id="admin-comment" placeholder="ä¾‹: ã‚¨ã‚ªãƒ«ã‚¼ã‚¢ã‚’é§†ã‘å·¡ã‚‹ï¼">
            </div>
            <div class="input-group">
                <label for="admin-image">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒ:</label>
                <input type="file" id="admin-image" accept="image/*">
                <img id="admin-image-preview" style="display: none;">
            </div>
        </section>

        <!-- ãã®ä»–ã®å¥½ããªé …ç›® -->
        <section class="admin-section">
            <h3>ãã®ä»–ã®å¥½ããªé …ç›®</h3>
            <div class="input-group">
                <label for="admin-favoriteid">å¥½ããªID:</label>
                <select id="admin-favoriteid">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                </select>
                <div class="add-item">
                    <input type="text" id="admin-id-input" placeholder="IDã‚’è¿½åŠ ">
                    <button onclick="addFavoriteID()">è¿½åŠ </button>
                </div>
            </div>
            <div class="input-group">
                <label for="admin-favoriteextremetrial">å¥½ããªè¨æ»…æˆ¦ãƒœã‚¹:</label>
                <select id="admin-favoriteextremetrial">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                </select>
                <div class="add-item">
                    <input type="text" id="admin-extremetrial-input" placeholder="è¨æ»…æˆ¦ãƒœã‚¹ã‚’è¿½åŠ ">
                    <button onclick="addExtremeTrial()">è¿½åŠ </button>
                </div>
            </div>
            <div class="input-group">
                <label>å¥½ããªãƒ¬ã‚¤ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„:</label>
                <div class="checkbox-group-container">
                    <div class="checkbox-group horizontal" id="raid-checkboxes">
                        <label><input type="checkbox" class="raid-checkbox" value="æ©Ÿå·¥åŸã‚¢ãƒ¬ã‚­ã‚µãƒ³ãƒ€ãƒ¼"> æ©Ÿå·¥åŸã‚¢ãƒ¬ã‚­ã‚µãƒ³ãƒ€ãƒ¼</label>
                        <label><input type="checkbox" class="raid-checkbox" value="æ¬¡å…ƒã®ç‹­é–“ã‚ªãƒ¡ã‚¬"> æ¬¡å…ƒã®ç‹­é–“ã‚ªãƒ¡ã‚¬</label>
                        <label><input type="checkbox" class="raid-checkbox" value="å¸Œæœ›ã®åœ’ã‚¨ãƒ‡ãƒ³"> å¸Œæœ›ã®åœ’ã‚¨ãƒ‡ãƒ³</label>
                        <label><input type="checkbox" class="raid-checkbox" value="ä¸‡é­”æ®¿ãƒ‘ãƒ³ãƒ‡ãƒ¢ãƒ‹ã‚¦ãƒ "> ä¸‡é­”æ®¿ãƒ‘ãƒ³ãƒ‡ãƒ¢ãƒ‹ã‚¦ãƒ </label>
                    </div>
                    <div class="add-item">
                        <input type="text" id="admin-raid-input" placeholder="ãƒ¬ã‚¤ãƒ‰ã‚’è¿½åŠ ">
                        <button onclick="addRaidCheckbox()">è¿½åŠ </button>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label>å¥½ããªã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹:</label>
                <div class="checkbox-group-container">
                    <div class="checkbox-group horizontal" id="alliance-checkboxes">
                        <label><input type="checkbox" class="alliance-checkbox" value="ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚¿ãƒ¯ãƒ¼"> ã‚¯ãƒªã‚¹ã‚¿ãƒ«ã‚¿ãƒ¯ãƒ¼</label>
                        <label><input type="checkbox" class="alliance-checkbox" value="ã‚·ãƒ£ãƒ‰ã‚¦ãƒ»ã‚ªãƒ–ãƒ»ãƒãƒ"> ã‚·ãƒ£ãƒ‰ã‚¦ãƒ»ã‚ªãƒ–ãƒ»ãƒãƒ</label>
                        <label><input type="checkbox" class="alliance-checkbox" value="ã‚¤ãƒ´ã‚¡ãƒªãƒ¼ã‚¹"> ã‚¤ãƒ´ã‚¡ãƒªãƒ¼ã‚¹</label>
                        <label><input type="checkbox" class="alliance-checkbox" value="ãƒ‹ãƒ¼ã‚¢"> ãƒ‹ãƒ¼ã‚¢</label>
                        <label><input type="checkbox" class="alliance-checkbox" value="ãƒŸã‚½ãƒ­ã‚¸ãƒ¼ãƒ»ã‚ªãƒ–ãƒ»ã‚¨ã‚ªãƒ«ã‚¼ã‚¢"> ãƒŸã‚½ãƒ­ã‚¸ãƒ¼ãƒ»ã‚ªãƒ–ãƒ»ã‚¨ã‚ªãƒ«ã‚¼ã‚¢</label>
                    </div>
                    <div class="add-item">
                        <input type="text" id="admin-alliance-input" placeholder="ã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã‚’è¿½åŠ ">
                        <button onclick="addAllianceCheckbox()">è¿½åŠ </button>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label for="admin-favoriteffnumbering">å¥½ããªFFãƒŠãƒ³ãƒãƒªãƒ³ã‚°:</label>
                <select id="admin-favoriteffnumbering">
                    <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                    <option value="FFI">FFI</option>
                    <option value="FFII">FFII</option>
                    <option value="FFIII">FFIII</option>
                    <option value="FFIV">FFIV</option>
                    <option value="FFV">FFV</option>
                    <option value="FFVI">FFVI</option>
                    <option value="FFVII">FFVII</option>
                    <option value="FFVIII">FFVIII</option>
                    <option value="FFIX">FFIX</option>
                    <option value="FFX">FFX</option>
                    <option value="FFXI">FFXI</option>
                    <option value="FFXII">FFXII</option>
                    <option value="FFXIII">FFXIII</option>
                    <option value="FFXIV">FFXIV</option>
                    <option value="FFXV">FFXV</option>
                    <option value="FFXVI">FFXVI</option>
                </select>
            </div>
        </section>

        <!-- ãƒœã‚¿ãƒ³ -->
        <div class="admin-panel-buttons">
            <button onclick="saveProfile()">ä¿å­˜</button>
            <button onclick="closeAdminPanel()">é–‰ã˜ã‚‹</button>
        </div>
    </div>
    <footer>
        <p>Â© SQUARE ENIX CO., LTD. All Rights Reserved. 
            <button id="admin-toggle" style="display: none;">ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰</button>
            <button id="reopen-admin" class="admin-only" style="display: none;" onclick="openAdminPanel()">ç®¡ç†è€…ãƒ‘ãƒãƒ«ã‚’é–‹ã</button>
        </p>
        <button id="exit-admin" class="admin-only" style="display: none;">ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰çµ‚äº†</button>
    </footer>

    <script>
        let isAdmin = localStorage.getItem("isAdmin") === "true";
        const ADMIN_PASSWORD = "1225@Yuuto";

        const openDB = () => {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open("FF14ProfileDB", 1);

                request.onupgradeneeded = function(event) {
                    const db = event.target.result;
                    if (!db.objectStoreNames.contains("profiles")) {
                        db.createObjectStore("profiles", { keyPath: "id" });
                    }
                    if (!db.objectStoreNames.contains("customLists")) {
                        db.createObjectStore("customLists", { keyPath: "id" });
                    }
                };

                request.onsuccess = function(event) {
                    resolve(event.target.result);
                };

                request.onerror = function(event) {
                    reject("IndexedDBã‚ªãƒ¼ãƒ—ãƒ³ã‚¨ãƒ©ãƒ¼: " + event.target.errorCode);
                };
            });
        };

        const readFileAsDataURL = (file) => {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = () => reject("ç”»åƒèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼");
                reader.readAsDataURL(file);
            });
        };

        function toggleBGM() {
            const bgm = document.getElementById("bgm");
            if (!bgm) {
                console.error("BGMè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“");
                return;
            }
            if (bgm.src === "" || !bgm.src) {
                console.warn("éŸ³æºãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚å†ç”Ÿé–‹å§‹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚");
                return;
            }
            if (bgm.paused) {
                bgm.play().catch(error => {
                    console.error("å†ç”Ÿã‚¨ãƒ©ãƒ¼:", error);
                    alert("éŸ³æ¥½ã®å†ç”Ÿã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®è‡ªå‹•å†ç”Ÿãƒãƒªã‚·ãƒ¼ãŒåŸå› ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚");
                });
            } else {
                bgm.pause();
            }
        }

        function startBGM() {
            const bgm = document.getElementById("bgm");
            if (!bgm) {
                console.error("BGMè¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“");
                return;
            }
            if (bgm.src === "" || !bgm.src) {
                console.warn("éŸ³æºãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒˆãƒ©ãƒƒã‚¯ã‚’è©¦ã¿ã¾ã™ã€‚");
                setupBGM([{ src: "assets/Flow.mp3", name: "Flow" }]);
            }
            bgm.play().catch(error => {
                console.error("å†ç”Ÿã‚¨ãƒ©ãƒ¼:", error);
                alert("éŸ³æ¥½ã®å†ç”Ÿã«å¤±æ•—ã—ã¾ã—ãŸã€‚ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚");
            });
        }

        function adjustVolume() {
            const bgm = document.getElementById("bgm");
            const volume = document.getElementById("volume");
            if (bgm && volume) {
                bgm.volume = volume.value;
            } else {
                console.error("BGMã¾ãŸã¯ãƒœãƒªãƒ¥ãƒ¼ãƒ ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“");
            }
        }

        function setupBGM(tracks) {
            const bgm = document.getElementById("bgm");
            const currentTrack = document.getElementById("current-track");
            if (!bgm || !currentTrack) {
                console.error("BGMã¾ãŸã¯ç¾åœ¨ã®ãƒˆãƒ©ãƒƒã‚¯è¡¨ç¤ºãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“");
                return;
            }
            if (!tracks || tracks.length === 0) {
                console.warn("ãƒˆãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆãŒç©ºã§ã™");
                return;
            }

            let currentIndex = Math.floor(Math.random() * tracks.length);

            function updateTrack() {
                bgm.src = tracks[currentIndex].src;
                currentTrack.textContent = tracks[currentIndex].name;
                bgm.load();
                console.log("å†ç”Ÿä¸­ã®ãƒˆãƒ©ãƒƒã‚¯:", tracks[currentIndex].src);
                bgm.play().catch(error => console.error("ãƒˆãƒ©ãƒƒã‚¯å†ç”Ÿã‚¨ãƒ©ãƒ¼:", error));
            }

            updateTrack();

            bgm.addEventListener('ended', () => {
                currentIndex = (currentIndex + 1) % tracks.length;
                updateTrack();
            });

            window.prevTrack = function() {
                currentIndex = (currentIndex - 1 + tracks.length) % tracks.length;
                updateTrack();
            };

            window.nextTrack = function() {
                currentIndex = (currentIndex + 1) % tracks.length;
                updateTrack();
            };
        }

        function adjustElementsForMobile() {
            if (window.innerWidth <= 767) {
                const musicPlayer = document.querySelector('.music-player');
                if (musicPlayer) {
                    musicPlayer.style.position = 'static';
                    musicPlayer.style.width = '100%';
                }
            }
        }

        async function addAreaCheckbox(patch) {
            const areaInput = document.querySelector(`.admin-area-input[data-patch="${patch}"]`);
            const areaContainer = document.getElementById(`area-checkboxes-${patch}`);
            const newArea = areaInput.value.trim();
            if (newArea && !Array.from(areaContainer.querySelectorAll('.area-checkbox')).some(cb => cb.value === newArea)) {
                const label = document.createElement('label');
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'area-checkbox';
                checkbox.value = newArea;
                label.appendChild(checkbox);
                label.appendChild(document.createTextNode(` ${newArea}`));
                areaContainer.appendChild(label);
                areaInput.value = '';
                limitCheckboxes('.area-checkbox', 3);
                await saveCustomLists();
            } else if (!newArea) {
                alert('ã‚¨ãƒªã‚¢åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
            } else {
                alert('ã“ã®ã‚¨ãƒªã‚¢ã¯æ—¢ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚');
            }
        }

        async function addNewPatch() {
            const patchInput = document.getElementById('admin-new-patch-input');
            const patchName = patchInput.value.trim();
            if (patchName && !document.querySelector(`.role-group[data-patch="${patchName}"]`)) {
                const roleGroup = document.createElement('div');
                roleGroup.className = 'role-group';
                roleGroup.dataset.patch = patchName;
                const h4 = document.createElement('h4');
                h4.textContent = patchName;
                roleGroup.appendChild(h4);
                const checkboxGroup = document.createElement('div');
                checkboxGroup.className = 'checkbox-group horizontal';
                checkboxGroup.id = `area-checkboxes-${patchName}`;
                roleGroup.appendChild(checkboxGroup);
                const addItem = document.createElement('div');
                addItem.className = 'add-item';
                const input = document.createElement('input');
                input.type = 'text';
                input.className = 'admin-area-input';
                input.dataset.patch = patchName;
                input.placeholder = 'ã‚¨ãƒªã‚¢ã‚’è¿½åŠ ';
                const button = document.createElement('button');
                button.textContent = 'è¿½åŠ ';
                button.onclick = () => addAreaCheckbox(patchName);
                addItem.appendChild(input);
                addItem.appendChild(button);
                roleGroup.appendChild(addItem);
                document.getElementById('area-checkboxes').appendChild(roleGroup);
                patchInput.value = '';
                await saveCustomLists();
            } else if (!patchName) {
                alert('ãƒ‘ãƒƒãƒåã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
            } else {
                alert('ã“ã®ãƒ‘ãƒƒãƒã¯æ—¢ã«å­˜åœ¨ã—ã¾ã™ã€‚');
            }
        }

        function toggleAdminMode(enable) {
            isAdmin = enable;
            localStorage.setItem("isAdmin", enable);
            const adminElements = document.querySelectorAll(".admin-only");
            adminElements.forEach(el => el.style.display = enable ? "block" : "none");
            document.querySelector('.admin-panel').style.display = enable ? 'flex' : 'none';
            const reopenButton = document.getElementById('reopen-admin');
            if (enable && document.querySelector('.admin-panel').style.display === 'none') {
                reopenButton.style.display = 'block';
            } else {
                reopenButton.style.display = 'none';
            }
            if (enable) {
                loadProfile();
                loadCustomLists();
                updateAdminFields();
            }
        }

        function closeAdminPanel() {
            document.querySelector('.admin-panel').style.display = 'none';
            if (isAdmin) {
                document.getElementById('reopen-admin').style.display = 'block';
            }
        }

        function openAdminPanel() {
            document.querySelector('.admin-panel').style.display = 'flex';
            document.getElementById('reopen-admin').style.display = 'none';
            updateAdminFields();
        }

        async function addGear() {
            const gearInput = document.getElementById('admin-gear-input');
            const gearSelect = document.getElementById('admin-gear');
            const newGear = gearInput.value.trim();
            if (newGear) {
                const option = document.createElement('option');
                option.value = newGear;
                option.textContent = newGear;
                gearSelect.appendChild(option);
                gearInput.value = '';
                await saveCustomLists();
            }
        }

        async function addMount() {
            const mountInput = document.getElementById('admin-mount-input');
            const mountSelect = document.getElementById('admin-favoritemount');
            const newMount = mountInput.value.trim();
            if (newMount) {
                const option = document.createElement('option');
                option.value = newMount;
                option.textContent = newMount;
                mountSelect.appendChild(option);
                mountInput.value = '';
                await saveCustomLists();
            }
        }

        async function addEmote() {
            const emoteInput = document.getElementById('admin-emote-input');
            const emoteSelect = document.getElementById('admin-favoriteemote');
            const newEmote = emoteInput.value.trim();
            if (newEmote) {
                const option = document.createElement('option');
                option.value = newEmote;
                option.textContent = newEmote;
                emoteSelect.appendChild(option);
                emoteInput.value = '';
                await saveCustomLists();
            }
        }

        async function addFavoriteID() {
            const idInput = document.getElementById('admin-id-input');
            const idSelect = document.getElementById('admin-favoriteid');
            const newID = idInput.value.trim();
            if (newID) {
                const option = document.createElement('option');
                option.value = newID;
                option.textContent = newID;
                idSelect.appendChild(option);
                idInput.value = '';
                await saveCustomLists();
            }
        }

        async function addExtremeTrial() {
            const trialInput = document.getElementById('admin-extremetrial-input');
            const trialSelect = document.getElementById('admin-favoriteextremetrial');
            const newTrial = trialInput.value.trim();
            if (newTrial) {
                const option = document.createElement('option');
                option.value = newTrial;
                option.textContent = newTrial;
                trialSelect.appendChild(option);
                trialInput.value = '';
                await saveCustomLists();
            }
        }

        async function addRaidCheckbox() {
            const raidInput = document.getElementById('admin-raid-input');
            const raidContainer = document.getElementById('raid-checkboxes');
            const newRaid = raidInput.value.trim();
            if (newRaid && !Array.from(raidContainer.querySelectorAll('.raid-checkbox')).some(cb => cb.value === newRaid)) {
                const label = document.createElement('label');
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'raid-checkbox';
                checkbox.value = newRaid;
                label.appendChild(checkbox);
                label.appendChild(document.createTextNode(` ${newRaid}`));
                raidContainer.appendChild(label);
                raidInput.value = '';
                await saveCustomLists();
            } else if (!newRaid) {
                alert('ãƒ¬ã‚¤ãƒ‰åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
            } else {
                alert('ã“ã®ãƒ¬ã‚¤ãƒ‰ã¯æ—¢ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚');
            }
        }

        async function addAllianceCheckbox() {
            const allianceInput = document.getElementById('admin-alliance-input');
            const allianceContainer = document.getElementById('alliance-checkboxes');
            const newAlliance = allianceInput.value.trim();
            if (newAlliance && !Array.from(allianceContainer.querySelectorAll('.alliance-checkbox')).some(cb => cb.value === newAlliance)) {
                const label = document.createElement('label');
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'alliance-checkbox';
                checkbox.value = newAlliance;
                label.appendChild(checkbox);
                label.appendChild(document.createTextNode(` ${newAlliance}`));
                allianceContainer.appendChild(label);
                allianceInput.value = '';
                await saveCustomLists();
            } else if (!newAlliance) {
                alert('ã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
            } else {
                alert('ã“ã®ã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹ã¯æ—¢ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚');
            }
        }

        async function addJobCheckbox(role) {
            const jobInput = document.getElementById(`admin-job-input-${role}`);
            const jobContainer = document.getElementById(`job-checkboxes-${role}`);
            const newJob = jobInput.value.trim();
            if (newJob && !Array.from(jobContainer.querySelectorAll('.job-checkbox')).some(cb => cb.value === newJob)) {
                const label = document.createElement('label');
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.className = 'job-checkbox';
                checkbox.dataset.role = role;
                checkbox.value = newJob;
                label.appendChild(checkbox);
                label.appendChild(document.createTextNode(` ${newJob}`));
                jobContainer.appendChild(label);
                jobInput.value = '';
                await saveCustomLists();
            } else if (!newJob) {
                alert('ã‚¸ãƒ§ãƒ–åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
            } else {
                alert('ã“ã®ã‚¸ãƒ§ãƒ–ã¯æ—¢ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚');
            }
        }

        async function saveCustomLists() {
            const gearSelect = document.getElementById('admin-gear');
            const mountSelect = document.getElementById('admin-favoritemount');
            const emoteSelect = document.getElementById('admin-favoriteemote');
            const idSelect = document.getElementById('admin-favoriteid');
            const trialSelect = document.getElementById('admin-favoriteextremetrial');
            const customLists = {
                id: "nebelfeeCustomLists",
                gear: Array.from(gearSelect.options).slice(1).map(opt => opt.value),
                mounts: Array.from(mountSelect.options).slice(1).map(opt => opt.value),
                emotes: Array.from(emoteSelect.options).slice(1).map(opt => opt.value),
                ids: Array.from(idSelect.options).slice(1).map(opt => opt.value),
                trials: Array.from(trialSelect.options).slice(1).map(opt => opt.value),
                raids: Array.from(document.querySelectorAll('.raid-checkbox')).map(cb => ({ value: cb.value, checked: cb.checked })),
                alliances: Array.from(document.querySelectorAll('.alliance-checkbox')).map(cb => ({ value: cb.value, checked: cb.checked })),
                jobs: {
                    tank: Array.from(document.querySelectorAll('#job-checkboxes-tank .job-checkbox')).map(cb => ({ value: cb.value, checked: cb.checked })),
                    healer: Array.from(document.querySelectorAll('#job-checkboxes-healer .job-checkbox')).map(cb => ({ value: cb.value, checked: cb.checked })),
                    melee: Array.from(document.querySelectorAll('#job-checkboxes-melee .job-checkbox')).map(cb => ({ value: cb.value, checked: cb.checked })),
                    ranged: Array.from(document.querySelectorAll('#job-checkboxes-ranged .job-checkbox')).map(cb => ({ value: cb.value, checked: cb.checked })),
                    caster: Array.from(document.querySelectorAll('#job-checkboxes-caster .job-checkbox')).map(cb => ({ value: cb.value, checked: cb.checked }))
                },
                areas: Array.from(document.querySelectorAll('.role-group[data-patch]')).map(group => ({
                    patch: group.dataset.patch,
                    areas: Array.from(group.querySelectorAll('.area-checkbox')).map(cb => ({ value: cb.value, checked: cb.checked }))
                }))
            };

            try {
                const db = await openDB();
                const tx = db.transaction("customLists", "readwrite");
                const store = tx.objectStore("customLists");
                const request = store.put(customLists);
                await new Promise((resolve, reject) => {
                    request.onsuccess = () => {
                        console.log("ã‚«ã‚¹ã‚¿ãƒ ãƒªã‚¹ãƒˆä¿å­˜æˆåŠŸ");
                        resolve();
                    };
                    request.onerror = () => reject("ã‚«ã‚¹ã‚¿ãƒ ãƒªã‚¹ãƒˆä¿å­˜ã‚¨ãƒ©ãƒ¼: " + request.error);
                });
            } catch (error) {
                console.error("saveCustomLists ã‚¨ãƒ©ãƒ¼:", error);
            }
        }

        async function loadCustomLists() {
            try {
                const db = await openDB();
                const tx = db.transaction("customLists", "readonly");
                const store = tx.objectStore("customLists");
                const request = store.get("nebelfeeCustomLists");

                const customLists = await new Promise((resolve, reject) => {
                    request.onsuccess = () => {
                        const defaultJobs = { tank: [], healer: [], melee: [], ranged: [], caster: [] };
                        const result = request.result || {};
                        resolve({
                            gear: result.gear || [],
                            mounts: result.mounts || [],
                            emotes: result.emotes || [],
                            ids: result.ids || [],
                            trials: result.trials || [],
                            raids: result.raids || [],
                            alliances: result.alliances || [],
                            jobs: result.jobs ? { ...defaultJobs, ...result.jobs } : defaultJobs,
                            areas: result.areas || []
                        });
                    };
                    request.onerror = () => reject("ã‚«ã‚¹ã‚¿ãƒ ãƒªã‚¹ãƒˆèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: " + request.error);
                });

                const gearSelect = document.getElementById('admin-gear');
                customLists.gear.forEach(gear => {
                    const option = document.createElement('option');
                    option.value = gear;
                    option.textContent = gear;
                    gearSelect.appendChild(option);
                });

                const mountSelect = document.getElementById('admin-favoritemount');
                customLists.mounts.forEach(mount => {
                    const option = document.createElement('option');
                    option.value = mount;
                    option.textContent = mount;
                    mountSelect.appendChild(option);
                });

                const emoteSelect = document.getElementById('admin-favoriteemote');
                customLists.emotes.forEach(emote => {
                    const option = document.createElement('option');
                    option.value = emote;
                    option.textContent = emote;
                    emoteSelect.appendChild(option);
                });

                const idSelect = document.getElementById('admin-favoriteid');
                customLists.ids.forEach(id => {
                    const option = document.createElement('option');
                    option.value = id;
                    option.textContent = id;
                    idSelect.appendChild(option);
                });

                const trialSelect = document.getElementById('admin-favoriteextremetrial');
                customLists.trials.forEach(trial => {
                    const option = document.createElement('option');
                    option.value = trial;
                    option.textContent = trial;
                    trialSelect.appendChild(option);
                });

                const raidContainer = document.getElementById('raid-checkboxes');
                customLists.raids.forEach(raid => {
                    if (!Array.from(raidContainer.querySelectorAll('.raid-checkbox')).some(cb => cb.value === raid.value)) {
                        const label = document.createElement('label');
                        const checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.className = 'raid-checkbox';
                        checkbox.value = raid.value;
                        checkbox.checked = raid.checked;
                        label.appendChild(checkbox);
                        label.appendChild(document.createTextNode(` ${raid.value}`));
                        raidContainer.appendChild(label);
                    }
                });

                const allianceContainer = document.getElementById('alliance-checkboxes');
                customLists.alliances.forEach(alliance => {
                    if (!Array.from(allianceContainer.querySelectorAll('.alliance-checkbox')).some(cb => cb.value === alliance.value)) {
                        const label = document.createElement('label');
                        const checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.className = 'alliance-checkbox';
                        checkbox.value = alliance.value;
                        checkbox.checked = alliance.checked;
                        label.appendChild(checkbox);
                        label.appendChild(document.createTextNode(` ${alliance.value}`));
                        allianceContainer.appendChild(label);
                    }
                });

                ['tank', 'healer', 'melee', 'ranged', 'caster'].forEach(role => {
                    const jobContainer = document.getElementById(`job-checkboxes-${role}`);
                    if (jobContainer) {
                        customLists.jobs[role].forEach(job => {
                            if (!Array.from(jobContainer.querySelectorAll('.job-checkbox')).some(cb => cb.value === job.value)) {
                                const label = document.createElement('label');
                                const checkbox = document.createElement('input');
                                checkbox.type = 'checkbox';
                                checkbox.className = 'job-checkbox';
                                checkbox.dataset.role = role;
                                checkbox.value = job.value;
                                checkbox.checked = job.checked;
                                label.appendChild(checkbox);
                                label.appendChild(document.createTextNode(` ${job.value}`));
                                jobContainer.appendChild(label);
                            }
                        });
                    } else {
                        console.warn(`ã‚¸ãƒ§ãƒ–ã‚³ãƒ³ãƒ†ãƒŠ 'job-checkboxes-${role}' ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚`);
                    }
                });

                customLists.areas.forEach(patchData => {
                    let roleGroup = document.querySelector(`.role-group[data-patch="${patchData.patch}"]`);
                    if (!roleGroup) {
                        roleGroup = document.createElement('div');
                        roleGroup.className = 'role-group';
                        roleGroup.dataset.patch = patchData.patch;
                        const h4 = document.createElement('h4');
                        h4.textContent = patchData.patch;
                        roleGroup.appendChild(h4);
                        const checkboxGroup = document.createElement('div');
                        checkboxGroup.className = 'checkbox-group horizontal';
                        checkboxGroup.id = `area-checkboxes-${patchData.patch}`;
                        roleGroup.appendChild(checkboxGroup);
                        const addItem = document.createElement('div');
                        addItem.className = 'add-item';
                        const input = document.createElement('input');
                        input.type = 'text';
                        input.className = 'admin-area-input';
                        input.dataset.patch = patchData.patch;
                        input.placeholder = 'ã‚¨ãƒªã‚¢ã‚’è¿½åŠ ';
                        const button = document.createElement('button');
                        button.textContent = 'è¿½åŠ ';
                        button.onclick = () => addAreaCheckbox(patchData.patch);
                        addItem.appendChild(input);
                        addItem.appendChild(button);
                        roleGroup.appendChild(addItem);
                        document.getElementById('area-checkboxes').appendChild(roleGroup);
                    }
                    const areaContainer = document.getElementById(`area-checkboxes-${patchData.patch}`);
                    patchData.areas.forEach(area => {
                        if (!Array.from(areaContainer.querySelectorAll('.area-checkbox')).some(cb => cb.value === area.value)) {
                            const label = document.createElement('label');
                            const checkbox = document.createElement('input');
                            checkbox.type = 'checkbox';
                            checkbox.className = 'area-checkbox';
                            checkbox.value = area.value;
                            checkbox.checked = area.checked;
                            label.appendChild(checkbox);
                            label.appendChild(document.createTextNode(` ${area.value}`));
                            areaContainer.appendChild(label);
                        }
                    });
                });

                limitCheckboxes('.area-checkbox', 3);
            } catch (error) {
                console.error("loadCustomLists ã‚¨ãƒ©ãƒ¼:", error);
            }
        }

        function limitCheckboxes(selector, max) {
            const checkboxes = document.querySelectorAll(selector);
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
                    if (checkedCount > max) {
                        checkbox.checked = false;
                        alert(`æœ€å¤§${max}ã¤ã¾ã§é¸æŠå¯èƒ½ã§ã™ã€‚`);
                    }
                });
            });
        }

        async function updateAdminFields() {
            try {
                const db = await openDB();
                const tx = db.transaction("profiles", "readonly");
                const store = tx.objectStore("profiles");
                const request = store.get("nebelfeeProfile");

                const profileData = await new Promise((resolve, reject) => {
                    request.onsuccess = () => resolve(request.result || {});
                    request.onerror = () => reject("ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: " + request.error);
                });

                document.getElementById('admin-race').value = profileData.race || '';
                document.getElementById('admin-gender').value = profileData.gender || '';
                document.getElementById('admin-relation').value = profileData.relation || '';
                document.getElementById('admin-mainjob').value = profileData.mainjob || '';

                const birthdayMatch = (profileData.birthday || '').match(/^(æ˜Ÿ\d+æœˆ|éœŠ\d+æœˆ)(\d+æ—¥)$/);
                if (birthdayMatch) {
                    document.getElementById('admin-birthday-moon').value = birthdayMatch[1];
                    document.getElementById('admin-birthday-day').value = birthdayMatch[2];
                } else {
                    document.getElementById('admin-birthday-moon').value = '';
                    document.getElementById('admin-birthday-day').value = '';
                }

                document.getElementById('admin-description').value = profileData.description || '';

                const areas = (profileData.area || '').split(', ');
                document.querySelectorAll('.area-checkbox').forEach(checkbox => {
                    checkbox.checked = areas.includes(checkbox.value);
                });

                const contents = (profileData.content || '').split(', ');
                document.getElementById('admin-content-raid').checked = contents.includes('ãƒ¬ã‚¤ãƒ‰');
                document.getElementById('admin-content-extreme').checked = contents.includes('æ¥µã‚³ãƒ³ãƒ†ãƒ³ãƒ„');
                document.getElementById('admin-content-dungeon').checked = contents.includes('ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³');
                document.getElementById('admin-content-pvp').checked = contents.includes('PvP');
                document.getElementById('admin-content-crafting').checked = contents.includes('ã‚¯ãƒ©ãƒ•ã‚¿ãƒ¼');
                document.getElementById('admin-content-gathering').checked = contents.includes('ã‚®ãƒ£ã‚¶ãƒ©ãƒ¼');
                document.getElementById('admin-content-treasure').checked = contents.includes('ãƒˆãƒ¬ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒˆ');
                document.getElementById('admin-content-rp').checked = contents.includes('RP');

                document.getElementById('admin-gear').value = profileData.gear || '';
                document.getElementById('admin-server').value = profileData.server || '';
                document.getElementById('admin-freecompany').value = profileData.freecompany || '';

                const playstyles = (profileData.playstyle || '').split(', ');
                document.getElementById('admin-playstyle-casual').checked = playstyles.includes('ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«');
                document.getElementById('admin-playstyle-hardcore').checked = playstyles.includes('ãƒãƒ¼ãƒ‰ã‚³ã‚¢');
                document.getElementById('admin-playstyle-rp').checked = playstyles.includes('RP');
                document.getElementById('admin-playstyle-pvp').checked = playstyles.includes('PvP');
                document.getElementById('admin-playstyle-crafting').checked = playstyles.includes('ã‚¯ãƒ©ãƒ•ãƒ†ã‚£ãƒ³ã‚°');

                document.getElementById('admin-favoriteemote').value = profileData.favoriteemote || '';
                document.getElementById('admin-mainquest').value = profileData.mainquest || '';
                document.getElementById('admin-favoritemount').value = profileData.favoritemount || '';
                document.getElementById('admin-playtime').value = profileData.playtime || '';

                const crafters = (profileData.crafter || '').split(', ');
                document.getElementById('admin-crafter-carpenter').checked = crafters.includes('ğŸªš æœ¨å·¥å¸«');
                document.getElementById('admin-crafter-blacksmith').checked = crafters.includes('ğŸ”¨ é›å†¶å¸«');
                document.getElementById('admin-crafter-armorer').checked = crafters.includes('ğŸ› ï¸ ç”²å†‘å¸«');
                document.getElementById('admin-crafter-goldsmith').checked = crafters.includes('ğŸ’ å½«é‡‘å¸«');
                document.getElementById('admin-crafter-leatherworker').checked = crafters.includes('ğŸ§µ é©ç´°å·¥å¸«');
                document.getElementById('admin-crafter-weaver').checked = crafters.includes('âœ‚ï¸ è£ç¸«å¸«');
                document.getElementById('admin-crafter-alchemist').checked = crafters.includes('âš—ï¸ éŒ¬é‡‘è¡“å¸«');
                document.getElementById('admin-crafter-culinarian').checked = crafters.includes('ğŸ³ èª¿ç†å¸«');

                const gatherers = (profileData.gatherer || '').split(', ');
                document.getElementById('admin-gatherer-miner').checked = gatherers.includes('â›ï¸ æ¡æ˜å¸«');
                document.getElementById('admin-gatherer-botanist').checked = gatherers.includes('ğŸŒ± åœ’èŠ¸å¸«');
                document.getElementById('admin-gatherer-fisher').checked = gatherers.includes('ğŸ£ æ¼å¸«');

                document.getElementById('admin-comment').value = profileData.comment || '';
                if (profileData.image) {
                    document.getElementById('admin-image-preview').src = profileData.image;
                    document.getElementById('admin-image-preview').style.display = 'block';
                } else {
                    document.getElementById('admin-image-preview').style.display = 'none';
                }

                document.getElementById('admin-favoriteid').value = profileData.favoriteid || '';
                document.getElementById('admin-favoriteextremetrial').value = profileData.favoriteextremetrial || '';
                const favoriteRaids = (profileData.favoriteraid || '').split(', ');
                document.querySelectorAll('.raid-checkbox').forEach(checkbox => {
                    checkbox.checked = favoriteRaids.includes(checkbox.value);
                });
                const favoriteAlliances = (profileData.favoritealliance || '').split(', ');
                document.querySelectorAll('.alliance-checkbox').forEach(checkbox => {
                    checkbox.checked = favoriteAlliances.includes(checkbox.value);
                });
                const favoriteJobs = (profileData.favoritejobs || '').split(', ');
                document.querySelectorAll('.job-checkbox').forEach(checkbox => {
                    checkbox.checked = favoriteJobs.includes(checkbox.value);
                });
                document.getElementById('admin-favoriteffnumbering').value = profileData.favoriteffnumbering || '';
            } catch (error) {
                console.error("updateAdminFields ã‚¨ãƒ©ãƒ¼:", error);
            }
        }

        async function saveProfile() {
            console.log("saveProfile é–‹å§‹");
            const fields = [
                'race', 'gender', 'relation', 'mainjob', 'description', 'gear', 'server', 
                'freecompany', 'favoriteemote', 'mainquest', 'favoritemount', 'playtime', 
                'comment', 'favoriteid', 'favoriteextremetrial', 'favoriteffnumbering'
            ];
            fields.forEach(field => {
                const input = document.getElementById(`admin-${field}`);
                if (input) {
                    const value = input.value;
                    if (value) {
                        document.getElementById(field).textContent = value;
                        console.log(`${field}: ${value}`);
                    }
                } else {
                    console.warn(`å…¥åŠ›è¦ç´  'admin-${field}' ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“`);
                }
            });

            const birthdayMoon = document.getElementById('admin-birthday-moon')?.value || '';
            const birthdayDay = document.getElementById('admin-birthday-day')?.value || '';
            if (birthdayMoon && birthdayDay) {
                document.getElementById('birthday').textContent = `${birthdayMoon}${birthdayDay}`;
                console.log("èª•ç”Ÿæ—¥:", `${birthdayMoon}${birthdayDay}`);
            }

            const areas = [];
            document.querySelectorAll('.area-checkbox:checked').forEach(checkbox => {
                areas.push(checkbox.value);
            });
            document.getElementById('area').textContent = areas.join(', ');
            console.log("å¥½ããªã‚¨ãƒªã‚¢:", areas);

            const contents = [];
            const contentIds = ['raid', 'extreme', 'dungeon', 'pvp', 'crafting', 'gathering', 'treasure', 'rp'];
            contentIds.forEach(id => {
                if (document.getElementById(`admin-content-${id}`)?.checked) {
                    contents.push(document.getElementById(`admin-content-${id}`).value);
                }
            });
            document.getElementById('content').textContent = contents.join(', ');
            console.log("å¾—æ„ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„:", contents);

            const playstyles = [];
            const playstyleIds = ['casual', 'hardcore', 'rp', 'pvp', 'crafting'];
            playstyleIds.forEach(id => {
                if (document.getElementById(`admin-playstyle-${id}`)?.checked) {
                    playstyles.push(document.getElementById(`admin-playstyle-${id}`).value);
                }
            });
            document.getElementById('playstyle').textContent = playstyles.join(', ');
            console.log("ãƒ—ãƒ¬ã‚¤ã‚¹ã‚¿ã‚¤ãƒ«:", playstyles);

            const crafters = [];
            const crafterIds = ['carpenter', 'blacksmith', 'armorer', 'goldsmith', 'leatherworker', 'weaver', 'alchemist', 'culinarian'];
            crafterIds.forEach(id => {
                if (document.getElementById(`admin-crafter-${id}`)?.checked) {
                    crafters.push(document.getElementById(`admin-crafter-${id}`).value);
                }
            });
            document.getElementById('crafter').textContent = crafters.join(', ');
            console.log("ã‚¯ãƒ©ãƒ•ã‚¿ãƒ¼:", crafters);

            const gatherers = [];
            const gathererIds = ['miner', 'botanist', 'fisher'];
            gathererIds.forEach(id => {
                if (document.getElementById(`admin-gatherer-${id}`)?.checked) {
                    gatherers.push(document.getElementById(`admin-gatherer-${id}`).value);
                }
            });
            document.getElementById('gatherer').textContent = gatherers.join(', ');
            console.log("ã‚®ãƒ£ã‚¶ãƒ©ãƒ¼:", gatherers);

            const favoriteRaids = [];
            document.querySelectorAll('.raid-checkbox:checked').forEach(checkbox => {
                favoriteRaids.push(checkbox.value);
            });
            document.getElementById('favoriteraid').textContent = favoriteRaids.join(', ');
            console.log("å¥½ããªãƒ¬ã‚¤ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„:", favoriteRaids);

            const favoriteAlliances = [];
            document.querySelectorAll('.alliance-checkbox:checked').forEach(checkbox => {
                favoriteAlliances.push(checkbox.value);
            });
            document.getElementById('favoritealliance').textContent = favoriteAlliances.join(', ');
            console.log("å¥½ããªã‚¢ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹:", favoriteAlliances);

            const favoriteJobs = [];
            document.querySelectorAll('.job-checkbox:checked').forEach(checkbox => {
                favoriteJobs.push(checkbox.value);
            });
            document.getElementById('favoritejobs').textContent = favoriteJobs.join(', ');
            console.log("å¥½ããªã‚¸ãƒ§ãƒ–:", favoriteJobs);

            const profileData = {
                id: "nebelfeeProfile",
                race: document.getElementById('race').textContent,
                gender: document.getElementById('gender').textContent,
                relation: document.getElementById('relation').textContent,
                mainjob: document.getElementById('mainjob').textContent,
                birthday: document.getElementById('birthday').textContent,
                description: document.getElementById('description').textContent,
                area: document.getElementById('area').textContent,
                content: document.getElementById('content').textContent,
                gear: document.getElementById('gear').textContent,
                server: document.getElementById('server').textContent,
                freecompany: document.getElementById('freecompany').textContent,
                playstyle: document.getElementById('playstyle').textContent,
                favoritejobs: document.getElementById('favoritejobs').textContent,
                favoriteemote: document.getElementById('favoriteemote').textContent,
                mainquest: document.getElementById('mainquest').textContent,
                favoritemount: document.getElementById('favoritemount').textContent,
                playtime: document.getElementById('playtime').textContent,
                crafter: document.getElementById('crafter').textContent,
                gatherer: document.getElementById('gatherer').textContent,
                comment: document.getElementById('comment').textContent,
                favoriteid: document.getElementById('favoriteid').textContent,
                favoriteraid: document.getElementById('favoriteraid').textContent,
                favoritealliance: document.getElementById('favoritealliance').textContent,
                favoriteextremetrial: document.getElementById('favoriteextremetrial').textContent,
                favoriteffnumbering: document.getElementById('favoriteffnumbering').textContent,
                image: document.getElementById('profile-img').src || ''
            };

            console.log("ä¿å­˜ã™ã‚‹ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿:", profileData);

            const fileInput = document.getElementById('admin-image');
            if (fileInput && fileInput.files && fileInput.files[0]) {
                try {
                    profileData.image = await readFileAsDataURL(fileInput.files[0]);
                    document.getElementById('profile-img').src = profileData.image;
                    document.getElementById('profile-caption').textContent = 'Nebelfee';
                    fileInput.value = '';
                    document.getElementById('admin-image-preview').style.display = 'none';
                    console.log("ç”»åƒä¿å­˜æˆåŠŸ");
                } catch (error) {
                    console.error("ç”»åƒèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:", error);
                }
            }

            try {
                const db = await openDB();
                const tx = db.transaction("profiles", "readwrite");
                const store = tx.objectStore("profiles");
                const request = store.put(profileData);
                await new Promise((resolve, reject) => {
                    request.onsuccess = () => {
                        console.log("ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä¿å­˜æˆåŠŸ");
                        resolve();
                    };
                    request.onerror = () => {
                        console.error("ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä¿å­˜ã‚¨ãƒ©ãƒ¼:", request.error);
                        reject("ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ä¿å­˜ã‚¨ãƒ©ãƒ¼: " + request.error);
                    };
                });
                alert("ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãŒä¿å­˜ã•ã‚Œã¾ã—ãŸï¼");
            } catch (error) {
                console.error("saveProfile ã‚¨ãƒ©ãƒ¼:", error);
                alert("ä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸã€‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚");
            }
        }

        async function loadProfile() {
            try {
                const db = await openDB();
                const tx = db.transaction("profiles", "readonly");
                const store = tx.objectStore("profiles");
                const request = store.get("nebelfeeProfile");

                const profileData = await new Promise((resolve, reject) => {
                    request.onsuccess = () => resolve(request.result || {});
                    request.onerror = () => reject("ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼: " + request.error);
                });

                if (profileData) {
                    document.getElementById('race').textContent = profileData.race || '';
                    document.getElementById('gender').textContent = profileData.gender || '';
                    document.getElementById('relation').textContent = profileData.relation || '';
                    document.getElementById('mainjob').textContent = profileData.mainjob || '';
                    document.getElementById('birthday').textContent = profileData.birthday || '';
                    document.getElementById('description').textContent = profileData.description || '';
                    document.getElementById('area').textContent = profileData.area || '';
                    document.getElementById('content').textContent = profileData.content || '';
                    document.getElementById('gear').textContent = profileData.gear || '';
                    document.getElementById('server').textContent = profileData.server || '';
                    document.getElementById('freecompany').textContent = profileData.freecompany || '';
                    document.getElementById('playstyle').textContent = profileData.playstyle || '';
                    document.getElementById('favoritejobs').textContent = profileData.favoritejobs || '';
                    document.getElementById('favoriteemote').textContent = profileData.favoriteemote || '';
                    document.getElementById('mainquest').textContent = profileData.mainquest || '';
                    document.getElementById('favoritemount').textContent = profileData.favoritemount || '';
                    document.getElementById('playtime').textContent = profileData.playtime || '';
                    document.getElementById('crafter').textContent = profileData.crafter || '';
                    document.getElementById('gatherer').textContent = profileData.gatherer || '';
                    document.getElementById('comment').textContent = profileData.comment || '';
                    document.getElementById('favoriteid').textContent = profileData.favoriteid || '';
                    document.getElementById('favoriteraid').textContent = profileData.favoriteraid || '';
                    document.getElementById('favoritealliance').textContent = profileData.favoritealliance || '';
                    document.getElementById('favoriteextremetrial').textContent = profileData.favoriteextremetrial || '';
                    document.getElementById('favoriteffnumbering').textContent = profileData.favoriteffnumbering || '';
                    if (profileData.image) {
                        document.getElementById('profile-img').src = profileData.image;
                        document.getElementById('profile-caption').textContent = 'Nebelfee';
                    }
                    console.log("ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«èª­ã¿è¾¼ã¿æˆåŠŸ:", profileData);
                }
            } catch (error) {
                console.error("loadProfile ã‚¨ãƒ©ãƒ¼:", error);
            }
        }

        document.addEventListener("DOMContentLoaded", async () => {
            adjustElementsForMobile();

            const pageTracks = {
                'profile-nebelfee.html': [
                { src: "assets/å¿˜å´ã®æ­¤æ–¹.mp3", name: "å¿˜å´ã®æ­¤æ–¹" },
                { src: "assets/Scream ï½ä¸‡é­”æ®¿ãƒ‘ãƒ³ãƒ‡ãƒ¢ãƒ‹ã‚¦ãƒ ï¼šç…‰ç„ç·¨ï½.mp3", name: "æ…Ÿå“­" },
                { src: "assets/Athena the Tireless One.mp3", name: "ä¸å±ˆã®ã‚¢ãƒ†ãƒŠ" }
                ]
            };
            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            const tracks = pageTracks[currentPage] || [{ src: "assets/Flow.mp3", name: "Flow" }];
            console.log("è¨­å®šã•ã‚Œã‚‹ãƒˆãƒ©ãƒƒã‚¯:", tracks);
            setupBGM(tracks);

            await loadProfile();
            await loadCustomLists();
            if (isAdmin) {
                toggleAdminMode(true);
            }

            let tapCount = 0;
            let tapTimeout;
            const adminToggle = document.getElementById('admin-toggle');
            adminToggle.addEventListener('click', () => {
                if (!isAdmin) {
                    const password = prompt("ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:");
                    if (password === ADMIN_PASSWORD) {
                        toggleAdminMode(true);
                    } else {
                        alert("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™ã€‚");
                        adminToggle.style.display = 'none';
                    }
                }
            });
            document.addEventListener('keydown', (e) => {
                if (e.ctrlKey && e.shiftKey && e.key === 'A') {
                    adminToggle.style.display = 'inline';
                }
            });
            adminToggle.addEventListener('touchstart', (e) => {
                tapCount++;
                clearTimeout(tapTimeout);
                tapTimeout = setTimeout(() => tapCount = 0, 1000);
                if (tapCount >= 5 && !isAdmin) {
                    const password = prompt("ç®¡ç†è€…ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:");
                    if (password === ADMIN_PASSWORD) {
                        toggleAdminMode(true);
                        tapCount = 0;
                    } else {
                        alert("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™ã€‚");
                        adminToggle.style.display = 'none';
                    }
                }
            });

            document.getElementById("exit-admin").addEventListener("click", () => {
                toggleAdminMode(false);
                adminToggle.style.display = 'none';
            });

            document.getElementById('admin-image').addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        document.getElementById('admin-image-preview').src = e.target.result;
                        document.getElementById('admin-image-preview').style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }
            });

            const hamburger = document.querySelector('.hamburger');
            const nav = document.querySelector('nav');
            hamburger.addEventListener('click', () => {
                nav.classList.toggle('open');
            });

            limitCheckboxes('.area-checkbox', 3);
        });

        window.addEventListener('resize', adjustElementsForMobile);
    </script>
</body>
</html>